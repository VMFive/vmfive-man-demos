<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>VMFive ADN Web SDK Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
  <style>
    body { font-family: sans-serif; }
    body { margin: 0; padding: 0; }
    .page-container { width: 90%; max-width: 500px; margin: 10px auto; }
    .wrapbody {
    -webkit-perspective: 2000px;
    perspective: 2000px;
    -webkit-perspective-origin: center;
    perspective-origin: center;
    overflow: hidden;
    background-color: #222222;
    width: 50vw;
    height: 100vh;
  margin: 0 auto;
}

.wrapbody nav {
    background: none;
    position: relative;
}

.wrapbody nav .button {
    width: 60px;
    height: 60px;
    margin: 0;
    background-color: black;
    border-radius: 50%;
    display: inline-block;
    cursor: pointer;
}

.wrapbody nav .button:nth-child(2) {
    margin-left: 30px;
}

.wrapbody nav #buttons .buttons-navi {
    z-index: 100;
    position: absolute;
    top: 10px;
    margin-left: 10px;
}

.wrapbody nav #buttons .buttons-navi .button {
    width: 40px;
    height: 40px;
}

.wrapbody nav #buttons .buttons-navi .button span {
    color: white;
    font-size: 25px;
    font-weight: 500;
    position: absolute;
}

.wrapbody nav #buttons .buttons-navi .button .button-next {
    top: 8px;
    left: 83px;
}

.wrapbody nav #buttons .buttons-navi .button .button-prev {
    top: 8px;
    left: 8px;
}

.wrapbody nav #buttons .buttons-menu {
    z-index: 100;
    position: absolute;
    top: 10px;
    right: 10px;
}

.wrapbody nav #buttons .buttons-menu .button-wrapper {
    position: relative;
    right: -10px;
    top: 15px;
}

.wrapbody nav #buttons .buttons-menu .button-wrapper span {
    display: block;
    width: 40px;
    height: 5px;
    background-color: white;
    border-radius: 5px;
    position: absolute;
}

.wrapbody nav #buttons .buttons-menu .button-wrapper span:nth-child(1) {
    top: 0px;
}

.wrapbody nav #buttons .buttons-menu .button-wrapper span:nth-child(2) {
    top: 12px;
}

.wrapbody nav #buttons .buttons-menu .button-wrapper span:nth-child(3) {
    top: 24px;
}

.wrapbody nav #menu {
    display: none;
    background-color: black;
    color: white;
    -webkit-transform-origin: 50% 50%;
    -o-transform-origin: 50% 50%;
    transform-origin: 100% 100%;
    position: absolute;
    z-index: 99;
}

.wrapbody nav #menu ul {
    list-style: none;
    width: 100vw;
    height: 100vh;
    -webkit-transform-origin: center;
    -o-transform-origin: center;
    transform-origin: center;
    -webkit-transform: translateY(25vh);
    -o-transform: translateY(25vh);
    transform: translateY(25vh);
    padding-left: 0;
}

.wrapbody nav #menu ul li {
    display: none;
    text-align: center;
    text-transform: uppercase;
    -webkit-transform-origin: left;
    -o-transform-origin: left;
    transform-origin: left;
    margin: 0 auto;
    font-size: 40px;
    -webkit-transform: translateX(-100vw);
    -o-transform: translateX(-100vw);
    transform: translateX(-100vw);
    cursor: pointer;
}

#pages {
    -webkit-transform-style: preserve-3d;
    transform-style: preserve-3d;
    -webkit-transform-origin: 50% 50% -25vw;
    -o-transform-origin: 50% 50% -25vw;
    transform-origin: 50% 50% -25vw;
    height: 100%;
    width: 100%;
    position: relative;
}

#pages section {
    position: absolute;
    width: 100%;
    height: 100%;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    overflow: hidden;
    font-size: 50px;
    margin: auto 0;
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-align: center;
    -webkit-align-items: center;
    -ms-flex-align: center;
    align-items: center;
    -webkit-align-content: center;
    -ms-flex-line-pack: center;
    align-content: center;
}

#pages #main {
    background-color: rgba(255, 217, 0, 0.8);
}

#pages #about {
    background-color: rgba(255, 69, 0, 0.8);
    -webkit-transform-origin: center;
    -o-transform-origin: center;
    transform-origin: center;
    -webkit-transform: translateZ(-50vw) rotateY(-180deg);
    transform: translateZ(-50vw) rotateY(-180deg);
}

#pages #work {
    -webkit-transform: translateX(25vw) translateZ(-25vw) rotateY(90deg);
    transform: translateX(25vw) translateZ(-25vw) rotateY(90deg);
    background-color: rgba(212, 255, 0, 0.8);
}

#pages #contact {
    -webkit-transform: translateX(-25vw) translateZ(-25vw) rotateY(-90deg);
    transform: translateX(-25vw) translateZ(-25vw) rotateY(-90deg);
    background-color: rgba(170, 179, 179, 0.8);
}
  </style>
</head>

<body>
  <div class="page-container">
    <h2>第五代虛擬科技／技術起家 橫跨五大領域</h2>
    <h4>經濟日報 記者馬瑞璿／台北報導</h4>

    <p>第五代虛擬科技（VMFive）以互動遊戲廣告技術起家，後又以原生影音廣告為業務主力，以技術層面分析，互動遊戲廣告技術所需技術含量較高，整體技術需橫跨虛擬化、雲端、串流、跨平台、大數據等五領域，這也是VMFive命名由來。</p>
    <p>為什麼互動遊戲廣告需要的技術含量高？VMFive旗下的AdPlay主攻行動互動遊戲市場，行動市場必須考量連線能力、處理器架構與各廠牌手機繪圖能力，因此，主要技術領域集中在串流、虛擬化與跨平台三大領域。</p>
    <p>VMFive創辦人暨執行長丁俊宏表示，AdPlay串流到各個網址，可以在PC、NB、手機、平板等各類裝置上使用這個App。然而，這個串流體驗必須相當即時，因為所有的點擊都會在雲端上進行運算，必須在100-200毫秒內完成人機互動，這考驗著串流能力；而雲端也必須模擬手機處理器架構。目前手機處理器架構都是以ARM為主，要雲端來運算ARM架構也有些難度。此外，雖然App架設在雲端上，但最後連結的終端產品性能各有不同，必須因應不同設備去做解碼，甚至必須配合低階手機調整呈現品質，要在偵測用戶手機的同時，進行動態演算調節，在在都有技術難度。</p>
    <p>原生影音廣告技術含量就稍微低一些，丁俊宏表示，影音廣告著重串流、API（應用程式介面）、資料定向三大類技術，串流技術必須流暢才能降低延遲，並在不到1秒內的時間把廣告載入、完成串流，讓消費者觀看廣告，同時，也要提供API讓開發商組合成需要的格式，提升體驗效果，最後，也要在龐大的廣告資料裡面分析定向受眾，未來才能精準投遞目標客群。</p>

    <div class="wrapbody">
    <nav>
            <section id="buttons">
                <article class="buttons-navi">
                <div class="button">
                    <span class="button-prev glyphicon glyphicon-menu-left"></span>
                </div>
                <div class="button">
                    <span class="button-next glyphicon glyphicon-menu-right"></span>
                </div>
                </article>
                
            </section>
            </nav>
    <main id="pages">
        <section id="main">
            <article class="main-content">
            Main
            </article>
        </section>
        <section id="about">
            <article class="about-content">
            About
            </article>
        </section>
        <section id="work">
            <article class="work-content">
            Work
            </article>
        </section>
        <section id="contact">
            <article class="contact-content">
            Contact
            </article>
        </section>
    </main>
</div>

    <h3>執行長丁俊宏 來場不一樣的創業</h3>

    <p>走進第五代虛擬科技（VMFive）位於南京東路上的辦公室，空間設計帶有淡淡的loft風卻讓人備感溫馨，創辦人暨執行長丁俊宏是七年級生，斯文的外表下卻帶有創業的堅定。他說，他想做點與別人不同的事。為什麼想要創業？他說，「我小時候就對科學家有憧憬，喜歡看愛因斯坦、愛迪生的故事，我也喜歡看科幻電影，喜歡回到未來、時光機的那種，創業對我來說是一種憧憬，可以做一些不一樣的事情、甚至作一些創新的東西」。</p>
    <p>在創立VMFive前，丁俊宏已經設立過二家公司，一家公司主要作行動應用開發，另外一家公司則是做壽險軟體；當時，壽險軟體獲得許多良好迴響，但丁俊宏希望自己可以做一點走向全球的事，於是，他決定把公司交給團隊夥伴經營，自己出來開設另外一家公司，VMFive於焉誕生。</p>
    <p>第五代虛擬科技團隊草創初期，一部分人在台北、一部分在新竹，有些人是學生、有些人是社會新鮮人，直到2014年才在台北設辦公室。「一開始，大家都沒經驗，只有我先前創立過別間公司、有一點的經驗，而且我又是CEO，所以大多以我的想法為主，創立初期，大家多少都會有意見相佐的時候，默契不見得這麼好，但到了營運中期之後，我慢慢授權經營團隊，讓大家自主發揮」，丁俊宏回憶道。</p>
    <p>丁俊宏設定三年內在亞太地區互動遊戲廣告市場闖出一片天，他對自家的技術相當有信心，現階段目標是讓VMFive把市場做大、做好，並希望這家公司可以永續經營。</p>
    <hr/>
    <p>文章來源：<a href="https://money.udn.com/money/story/11150/2478372">經濟日報</a></p>

    <script src="https://man.vm5apis.com/dist/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/velocity/1.0.0/velocity.min.js"></script>
    <script>
     function PageTransitions () {
    const pages = $('#pages');

  const positions = {
    front: 0,
    right: -90,
    back: 180,
    left: 90,
  }

  const getCurrentTransform = () => {
    let currentTransform = pages[0].style.transform.match(/-?\d+/g) || 0;
    currentTransform!==0? currentTransform = parseInt(currentTransform[0]): currentTransform=0;
    return currentTransform;
  }

  const moveCube = (page) => {
    let target = positions[page];
    animateCube(target);
  }

  const changePage = (direction) => {
    let veloIsAnimating = pages.attr('class');
    let end = direction===1? -360: 360;
    let step = direction===1? 90: -90;
    if (!veloIsAnimating) {
      let current = getCurrentTransform();
      if (current===end) {
        pages.velocity(
          {
            rotateY:[0],
          },
          {
            duration: 0,
            complete: () => {
              current = getCurrentTransform();
              let target = (current+step);
              animateCube(target);
            }
          },
        )
      } else {
        let target = (current+step);
        animateCube(target);
      }
    }
  }

  const animateCube = (target) => {
    pages.velocity(
      {
        rotateY:[target],
      },
      {
        duration: 2000,
        easing: "easeOut",
      },
    )
  }

  return {
    change: changePage,
    move: moveCube,
  }
}

function Navigation (pagestrs) {
  const nav = $('nav');
  const buttons = nav.find('#buttons');
  const menu = nav.find('#menu');
  const buttonsNavi = buttons.find('.buttons-navi');
  const buttonPrev = buttonsNavi.find('.button:nth-child(1)');
  const buttonNext = buttonsNavi.find('.button:nth-child(2)');
  const buttonNextContent = buttonNext.find('.button-next');
  const buttonPrevContent = buttonPrev.find('.button-prev');
  const buttonMenu = buttons.find('.buttons-menu .button');
  const menuItems = menu.find('li');
  const buttonMenuContent = buttonMenu.find('.button-wrapper');
  const topSpan = buttonMenuContent.find('span:nth-child(1)');
  const middleSpan = buttonMenuContent.find('span:nth-child(2)');
  const bottomSpan = buttonMenuContent.find('span:nth-child(3)');
  const spans = [topSpan,middleSpan,bottomSpan];
  
  const windowOnUnload = (fn) => {
    const unload = () => {
      fn()
      window.removeEventListener('unload',unload);
    }
    window.addEventListener('unload',unload);
  };
  
  const animateChangePageButton = () => {
    const animateContent = (event) => {
      event.data.object.velocity(
        {
          scale: [1,0],
        },
        {
          duration: 1000,
          easing: 'spring',
        }
      )
    }

    buttonNext.on('mouseenter', {object: buttonNextContent}, animateContent);
    windowOnUnload(() => {
      buttonNext.off('mouseenter', animateContent);
    });

    buttonPrev.on('mouseenter', {object: buttonPrevContent}, animateContent);
    windowOnUnload(() => {
      buttonPrev.off('mouseenter', animateContent);
    });
  }
  
  const handleNextPageClick = () => {
    const buttonNext = buttons.find('.buttons-navi .button:nth-child(2)');
    const clickEvent = () => {
      pagestrs.change(0);
    }
    buttonNext.on('click', clickEvent);
    windowOnUnload(() => {
      buttonNext.off('click', clickEvent);
    })
  }

  const handlePrevPageClick = () => {
    const buttonPrev = buttons.find('.buttons-navi .button:nth-child(1)');
    const clickEvent = () => {
      pagestrs.change(1);
    }
    buttonPrev.on('click', clickEvent);
    windowOnUnload(() => {
      buttonPrev.off('click', clickEvent);
    })
  }
  
  const animateManuButton = () => {
    topSpan.velocity(
      {
        rotateZ: '135deg',
        top: '12px',
      },
      {
        duration: 300,
      }
    );
    middleSpan.velocity(
      {
        right: '40px',
        opacity: 0,
      },
      {
        duration: 300,
      }
    );
    bottomSpan.velocity(
      {
        rotateZ: '-135deg',
        top: '12px',
      },
      {
        duration: 300,
      }
    );
  }
  
  const reverseManuButtonAnimation = () => {
    spans.forEach((span)=>{
      span.velocity('reverse');
    });
  }
  
  const menuIn = () => {
    buttonsNavi.hide();
    menu.show();
    menu.velocity(
      {
        translateY: [0,-180],
        scale: [1,0],
        opacity: [1,0],
      },
      {
        duration: 2000,
        easing: "spring",
      }
    )
  }

  const menuOut = () => {
    buttonsNavi.show();
    menu.velocity(
      "reverse",
      {
        duration: 1000,
        easing: "spring",
        complete: () => {
          menu.hide();
        }
      }
    );
  }
  
  const menuItemsIn = () => {
    let delay = 200;
    menuItems.each((key,item) => {
      let it = $(item);
      it.show();
      it.velocity(
        {
          translateX: ["0vw","-100vw"],
          backgroundColorAlpha: [0,1],
        },
        {
          duration: 2000,
          easing: "spring",
          delay: delay,
        }
      )
      delay+=200;
    });
  }
  
  const naviInSeq = () =>{
    const seq = [
      animateManuButton,
      menuIn,
      menuItemsIn,
    ];
    seq.forEach((anim)=>{
      anim();
    });
  }

  const naviOutSeq = () => {
    const seq = [
      reverseManuButtonAnimation,
      menuOut,
    ];
    seq.forEach((anim)=>{
      anim();
    });
  }
  
  const handleMenuButtonClick = () => {
    const handleToggle = () => {
      let veloIsAnimating = menu.attr('class');
      if(!veloIsAnimating) {
        let opacity = parseInt(middleSpan.css('opacity'));
        if(opacity===1) {
          naviInSeq();
        } else {
          naviOutSeq();
        }
      }
    }
    buttonMenu.on('click',handleToggle);
    windowOnUnload(()=>{
      buttonMenu.off('click',handleToggle);
    });
  }
  
  const menuItemClickSeq = [
    reverseManuButtonAnimation,
    menuOut,
    pagestrs.move,
  ];
  
  const handleManuItemClick = () => {
    const clickEvent = (id) => {
      menuItemClickSeq.forEach((anim)=>{
        anim(id);
      });
    };

    menuItems.each((key,item) => {
      let it = $(item);
      it.on('click', ()=>{
        clickEvent(it[0].id);
      });
      windowOnUnload(()=>{
        it.off('click');
      });
    });
  }
  
  return {
    animateChangePageButton: animateChangePageButton,
    nextPage: handleNextPageClick,
    prevPage: handlePrevPageClick,
    menuButtonClick: handleMenuButtonClick,
    menuItemClick: handleManuItemClick,
  }
}

function Apx (navigation, pagesTransition) {
    console.log('sss');
  const pagesTrs = new pagesTransition();
  const navi = new navigation(pagesTrs);
  
  const domOnLoad = (fn) => {
    const unload = () => {
      window.removeEventListener('DOMContentLoaded',fn);
      window.removeEventListener('unload',unload);
    }
    window.addEventListener('DOMContentLoaded',fn);
    window.addEventListener('unload',unload);
  };
  
  const init = () => {
    const onInit = Object.values(navi);
    onInit.forEach((fn)=>{
      domOnLoad(fn);
    });
  }
  return {
    init: init,
  }
}

const app = new Apx(Navigation, PageTransitions);
app.init();

      </script>
  </div>
</body>

</html>
