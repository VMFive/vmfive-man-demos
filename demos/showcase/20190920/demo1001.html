<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>VMFive ADN Web SDK Demo</title>
    <meta name="viewport"
        content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
    <style>
        body {
            font-family: sans-serif;
        }

        body {
            margin: 0;
            padding: 0;
        }

        .page-container {
            width: 90%;
            max-width: 500px;
            margin: 10px auto;
        }
    </style>
</head>

<body>
    <div class="page-container">
        <h2>第五代虛擬科技／技術起家 橫跨五大領3域</h2>
        <h4>經濟日報 記者馬瑞璿／台北報導</h4>

        <p>第五代虛擬科技（VMFive）以互動遊戲廣告技術起家，後又以原生影音廣告為業務主力，以技術層面分析，互動遊戲廣告技術所需技術含量較高，整體技術需橫跨虛擬化、雲端、串流、跨平台、大數據等五領域，這也是VMFive命名由來。
        </p>
        <p>為什麼互動遊戲廣告需要的技術含量高？VMFive旗下的AdPlay主攻行動互動遊戲市場，行動市場必須考量連線能力、處理器架構與各廠牌手機繪圖能力，因此，主要技術領域集中在串流、虛擬化與跨平台三大領域。</p>
        <p>VMFive創辦人暨執行長丁俊宏表示，AdPlay串流到各個網址，可以在PC、NB、手機、平板等各類裝置上使用這個App。然而，這個串流體驗必須相當即時，因為所有的點擊都會在雲端上進行運算，必須在100-200毫秒內完成人機互動，這考驗著串流能力；而雲端也必須模擬手機處理器架構。目前手機處理器架構都是以ARM為主，要雲端來運算ARM架構也有些難度。此外，雖然App架設在雲端上，但最後連結的終端產品性能各有不同，必須因應不同設備去做解碼，甚至必須配合低階手機調整呈現品質，要在偵測用戶手機的同時，進行動態演算調節，在在都有技術難度。
        </p>
        <p>原生影音廣告技術含量就稍微低一些，丁俊宏表示，影音廣告著重串流、API（應用程式介面）、資料定向三大類技術，串流技術必須流暢才能降低延遲，並在不到1秒內的時間把廣告載入、完成串流，讓消費者觀看廣告，同時，也要提供API讓開發商組合成需要的格式，提升體驗效果，最後，也要在龐大的廣告資料裡面分析定向受眾，未來才能精準投遞目標客群。
        </p>

        <div id="vmfive-ad-unit-container-55667788"></div>
        <div id="vmfive-ad-unit-container-55667788-expand"></div>
        <h3>執行長丁俊宏 來場不一樣的創業</h3>

        <p>走進第五代虛擬科技（VMFive）位於南京東路上的辦公室，空間設計帶有淡淡的loft風卻讓人備感溫馨，創辦人暨執行長丁俊宏是七年級生，斯文的外表下卻帶有創業的堅定。他說，他想做點與別人不同的事。為什麼想要創業？他說，「我小時候就對科學家有憧憬，喜歡看愛因斯坦、愛迪生的故事，我也喜歡看科幻電影，喜歡回到未來、時光機的那種，創業對我來說是一種憧憬，可以做一些不一樣的事情、甚至作一些創新的東西」。
        </p>
        <p>在創立VMFive前，丁俊宏已經設立過二家公司，一家公司主要作行動應用開發，另外一家公司則是做壽險軟體；當時，壽險軟體獲得許多良好迴響，但丁俊宏希望自己可以做一點走向全球的事，於是，他決定把公司交給團隊夥伴經營，自己出來開設另外一家公司，VMFive於焉誕生。
        </p>
        <p>第五代虛擬科技團隊草創初期，一部分人在台北、一部分在新竹，有些人是學生、有些人是社會新鮮人，直到2014年才在台北設辦公室。「一開始，大家都沒經驗，只有我先前創立過別間公司、有一點的經驗，而且我又是CEO，所以大多以我的想法為主，創立初期，大家多少都會有意見相佐的時候，默契不見得這麼好，但到了營運中期之後，我慢慢授權經營團隊，讓大家自主發揮」，丁俊宏回憶道。
        </p>
        <p>丁俊宏設定三年內在亞太地區互動遊戲廣告市場闖出一片天，他對自家的技術相當有信心，現階段目標是讓VMFive把市場做大、做好，並希望這家公司可以永續經營。</p>
        <hr />
        <p>文章來源：<a href="https://money.udn.com/money/story/11150/2478372">經濟日報</a></p>

        <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
        <script src="https://man.vm5apis.com/dist/hammer.js/2.0.8/hammer.min.js"></script>
        <script src="https://man.vm5apis.com/dist/jquery.hammerjs/2.0.0/jquery.hammer.js"></script>
        <script>
            /* turn.js 4.1.0 | Copyright (c) 2012 Emmanuel Garcia | turnjs.com | turnjs.com/license.txt */
(function(f){function J(a,b,c){if(!c[0]||"object"==typeof c[0])return b.init.apply(a,c);if(b[c[0]])return b[c[0]].apply(a,Array.prototype.slice.call(c,1));throw q(c[0]+" is not a method or property");}function l(a,b,c,d){return{css:{position:"absolute",top:a,left:b,overflow:d||"hidden",zIndex:c||"auto"}}}function S(a,b,c,d,e){var h=1-e,f=h*h*h,g=e*e*e;return j(Math.round(f*a.x+3*e*h*h*b.x+3*e*e*h*c.x+g*d.x),Math.round(f*a.y+3*e*h*h*b.y+3*e*e*h*c.y+g*d.y))}function j(a,b){return{x:a,y:b}}function F(a,
b,c){return z&&c?" translate3d("+a+"px,"+b+"px, 0px) ":" translate("+a+"px, "+b+"px) "}function G(a){return" rotate("+a+"deg) "}function n(a,b){return Object.prototype.hasOwnProperty.call(b,a)}function T(){for(var a=["Moz","Webkit","Khtml","O","ms"],b=a.length,c="";b--;)a[b]+"Transform"in document.body.style&&(c="-"+a[b].toLowerCase()+"-");return c}function P(a,b,c,d,e){var h,f=[];if("-webkit-"==w){for(h=0;h<e;h++)f.push("color-stop("+d[h][0]+", "+d[h][1]+")");a.css({"background-image":"-webkit-gradient(linear, "+
b.x+"% "+b.y+"%,"+c.x+"% "+c.y+"%, "+f.join(",")+" )"})}else{var b={x:b.x/100*a.width(),y:b.y/100*a.height()},c={x:c.x/100*a.width(),y:c.y/100*a.height()},g=c.x-b.x;h=c.y-b.y;var i=Math.atan2(h,g),x=i-Math.PI/2,x=Math.abs(a.width()*Math.sin(x))+Math.abs(a.height()*Math.cos(x)),g=Math.sqrt(h*h+g*g),c=j(c.x<b.x?a.width():0,c.y<b.y?a.height():0),k=Math.tan(i);h=-1/k;k=(h*c.x-c.y-k*b.x+b.y)/(h-k);c=h*k-h*c.x+c.y;b=Math.sqrt(Math.pow(k-b.x,2)+Math.pow(c-b.y,2));for(h=0;h<e;h++)f.push(" "+d[h][1]+" "+100*
(b+g*d[h][0])/x+"%");a.css({"background-image":w+"linear-gradient("+-i+"rad,"+f.join(",")+")"})}}function t(a,b,c){a=f.Event(a);b.trigger(a,c);return a.isDefaultPrevented()?"prevented":a.isPropagationStopped()?"stopped":""}function q(a){function b(a){this.name="TurnJsError";this.message=a}b.prototype=Error();b.prototype.constructor=b;return new b(a)}function D(a){var b={top:0,left:0};do b.left+=a.offsetLeft,b.top+=a.offsetTop;while(a=a.offsetParent);return b}var z,U,w="",K=Math.PI,L=K/2,u="ontouchstart"in
window,r=u?{down:"touchstart",move:"touchmove",up:"touchend",over:"touchstart",out:"touchend"}:{down:"mousedown",move:"mousemove",up:"mouseup",over:"mouseover",out:"mouseout"},p={backward:["bl","tl"],forward:["br","tr"],all:"tl bl tr br l r".split(" ")},V=["single","double"],W=["ltr","rtl"],X={acceleration:!0,display:"double",duration:600,page:1,gradients:!0,turnCorners:"bl,br",when:null},Y={cornerSize:100},g={init:function(a){z="WebKitCSSMatrix"in window||"MozPerspective"in document.body.style;var b;
U=(b=/AppleWebkit\/([0-9\.]+)/i.exec(navigator.userAgent))?534.3<parseFloat(b[1]):!0;w=T();var c;b=0;var d=this.data(),e=this.children(),a=f.extend({width:this.width(),height:this.height(),direction:this.attr("dir")||this.css("direction")||"ltr"},X,a);d.opts=a;d.pageObjs={};d.pages={};d.pageWrap={};d.pageZoom={};d.pagePlace={};d.pageMv=[];d.zoom=1;d.totalPages=a.pages||0;d.eventHandlers={touchStart:f.proxy(g._touchStart,this),touchMove:f.proxy(g._touchMove,this),touchEnd:f.proxy(g._touchEnd,this),
start:f.proxy(g._eventStart,this)};if(a.when)for(c in a.when)n(c,a.when)&&this.bind(c,a.when[c]);this.css({position:"relative",width:a.width,height:a.height});this.turn("display",a.display);""!==a.direction&&this.turn("direction",a.direction);z&&(!u&&a.acceleration)&&this.transform(F(0,0,!0));for(c=0;c<e.length;c++)"1"!=f(e[c]).attr("ignore")&&this.turn("addPage",e[c],++b);f(this).bind(r.down,d.eventHandlers.touchStart).bind("end",g._eventEnd).bind("pressed",g._eventPressed).bind("released",g._eventReleased).bind("flip",
g._flip);f(this).parent().bind("start",d.eventHandlers.start);f(document).bind(r.move,d.eventHandlers.touchMove).bind(r.up,d.eventHandlers.touchEnd);this.turn("page",a.page);d.done=!0;return this},addPage:function(a,b){var c,d=!1,e=this.data(),h=e.totalPages+1;if(e.destroying)return!1;if(c=/\bp([0-9]+)\b/.exec(f(a).attr("class")))b=parseInt(c[1],10);if(b)if(b==h)d=!0;else{if(b>h)throw q('Page "'+b+'" cannot be inserted');}else b=h,d=!0;1<=b&&b<=h&&(c="double"==e.display?b%2?" odd":" even":"",e.done&&
this.turn("stop"),b in e.pageObjs&&g._movePages.call(this,b,1),d&&(e.totalPages=h),e.pageObjs[b]=f(a).css({"float":"left"}).addClass("page p"+b+c),-1!=navigator.userAgent.indexOf("MSIE 9.0")&&e.pageObjs[b].hasClass("hard")&&e.pageObjs[b].removeClass("hard"),g._addPage.call(this,b),g._removeFromDOM.call(this));return this},_addPage:function(a){var b=this.data(),c=b.pageObjs[a];if(c)if(g._necessPage.call(this,a)){if(!b.pageWrap[a]){b.pageWrap[a]=f("<div/>",{"class":"page-wrapper",page:a,css:{position:"absolute",
overflow:"hidden"}});this.append(b.pageWrap[a]);b.pagePlace[a]||(b.pagePlace[a]=a,b.pageObjs[a].appendTo(b.pageWrap[a]));var d=g._pageSize.call(this,a,!0);c.css({width:d.width,height:d.height});b.pageWrap[a].css(d)}b.pagePlace[a]==a&&g._makeFlip.call(this,a)}else b.pagePlace[a]=0,b.pageObjs[a]&&b.pageObjs[a].remove()},hasPage:function(a){return n(a,this.data().pageObjs)},center:function(a){var b=this.data(),c=f(this).turn("size"),d=0;b.noCenter||("double"==b.display&&(a=this.turn("view",a||b.tpage||
b.page),"ltr"==b.direction?a[0]?a[1]||(d+=c.width/4):d-=c.width/4:a[0]?a[1]||(d-=c.width/4):d+=c.width/4),f(this).css({marginLeft:d}));return this},destroy:function(){var a=this,b=this.data(),c="end first flip last pressed released start turning turned zooming missing".split(" ");if("prevented"!=t("destroying",this)){b.destroying=!0;f.each(c,function(b,c){a.unbind(c)});this.parent().unbind("start",b.eventHandlers.start);for(f(document).unbind(r.move,b.eventHandlers.touchMove).unbind(r.up,b.eventHandlers.touchEnd);0!==
b.totalPages;)this.turn("removePage",b.totalPages);b.fparent&&b.fparent.remove();b.shadow&&b.shadow.remove();this.removeData();b=null;return this}},is:function(){return"object"==typeof this.data().pages},zoom:function(a){var b=this.data();if("number"==typeof a){if(0.0010>a||100<a)throw q(a+" is not a value for zoom");if("prevented"==t("zooming",this,[a,b.zoom]))return this;var c=this.turn("size"),d=this.turn("view"),e=1/b.zoom,h=Math.round(c.width*e*a),c=Math.round(c.height*e*a);b.zoom=a;f(this).turn("stop").turn("size",
h,c);b.opts.autoCenter&&this.turn("center");g._updateShadow.call(this);for(a=0;a<d.length;a++)d[a]&&b.pageZoom[d[a]]!=b.zoom&&(this.trigger("zoomed",[d[a],d,b.pageZoom[d[a]],b.zoom]),b.pageZoom[d[a]]=b.zoom);return this}return b.zoom},_pageSize:function(a,b){var c=this.data(),d={};if("single"==c.display)d.width=this.width(),d.height=this.height(),b&&(d.top=0,d.left=0,d.right="auto");else{var e=this.width()/2,h=this.height();c.pageObjs[a].hasClass("own-size")?(d.width=c.pageObjs[a].width(),d.height=
c.pageObjs[a].height()):(d.width=e,d.height=h);if(b){var f=a%2;d.top=(h-d.height)/2;"ltr"==c.direction?(d[f?"right":"left"]=e-d.width,d[f?"left":"right"]="auto"):(d[f?"left":"right"]=e-d.width,d[f?"right":"left"]="auto")}}return d},_makeFlip:function(a){var b=this.data();if(!b.pages[a]&&b.pagePlace[a]==a){var c="single"==b.display,d=a%2;b.pages[a]=b.pageObjs[a].css(g._pageSize.call(this,a)).flip({page:a,next:d||c?a+1:a-1,turn:this}).flip("disable",b.disabled);g._setPageLoc.call(this,a);b.pageZoom[a]=
b.zoom}return b.pages[a]},_makeRange:function(){var a,b;if(!(1>this.data().totalPages)){b=this.turn("range");for(a=b[0];a<=b[1];a++)g._addPage.call(this,a)}},range:function(a){var b,c,d,e=this.data(),a=a||e.tpage||e.page||1;d=g._view.call(this,a);if(1>a||a>e.totalPages)throw q('"'+a+'" is not a valid page');d[1]=d[1]||d[0];1<=d[0]&&d[1]<=e.totalPages?(a=Math.floor(2),e.totalPages-d[1]>d[0]?(b=Math.min(d[0]-1,a),c=2*a-b):(c=Math.min(e.totalPages-d[1],a),b=2*a-c)):c=b=5;return[Math.max(1,d[0]-b),Math.min(e.totalPages,
d[1]+c)]},_necessPage:function(a){if(0===a)return!0;var b=this.turn("range");return this.data().pageObjs[a].hasClass("fixed")||a>=b[0]&&a<=b[1]},_removeFromDOM:function(){var a,b=this.data();for(a in b.pageWrap)n(a,b.pageWrap)&&!g._necessPage.call(this,a)&&g._removePageFromDOM.call(this,a)},_removePageFromDOM:function(a){var b=this.data();if(b.pages[a]){var c=b.pages[a].data();i._moveFoldingPage.call(b.pages[a],!1);c.f&&c.f.fwrapper&&c.f.fwrapper.remove();b.pages[a].removeData();b.pages[a].remove();
delete b.pages[a]}b.pageObjs[a]&&b.pageObjs[a].remove();b.pageWrap[a]&&(b.pageWrap[a].remove(),delete b.pageWrap[a]);g._removeMv.call(this,a);delete b.pagePlace[a];delete b.pageZoom[a]},removePage:function(a){var b=this.data();if("*"==a)for(;0!==b.totalPages;)this.turn("removePage",b.totalPages);else{if(1>a||a>b.totalPages)throw q("The page "+a+" doesn't exist");b.pageObjs[a]&&(this.turn("stop"),g._removePageFromDOM.call(this,a),delete b.pageObjs[a]);g._movePages.call(this,a,-1);b.totalPages-=1;b.page>
b.totalPages?(b.page=null,g._fitPage.call(this,b.totalPages)):(g._makeRange.call(this),this.turn("update"))}return this},_movePages:function(a,b){var c,d=this,e=this.data(),h="single"==e.display,f=function(a){var c=a+b,f=c%2,i=f?" odd ":" even ";e.pageObjs[a]&&(e.pageObjs[c]=e.pageObjs[a].removeClass("p"+a+" odd even").addClass("p"+c+i));e.pagePlace[a]&&e.pageWrap[a]&&(e.pagePlace[c]=c,e.pageWrap[c]=e.pageObjs[c].hasClass("fixed")?e.pageWrap[a].attr("page",c):e.pageWrap[a].css(g._pageSize.call(d,
c,!0)).attr("page",c),e.pages[a]&&(e.pages[c]=e.pages[a].flip("options",{page:c,next:h||f?c+1:c-1})),b&&(delete e.pages[a],delete e.pagePlace[a],delete e.pageZoom[a],delete e.pageObjs[a],delete e.pageWrap[a]))};if(0<b)for(c=e.totalPages;c>=a;c--)f(c);else for(c=a;c<=e.totalPages;c++)f(c)},display:function(a){var b=this.data(),c=b.display;if(void 0===a)return c;if(-1==f.inArray(a,V))throw q('"'+a+'" is not a value for display');switch(a){case "single":b.pageObjs[0]||(this.turn("stop").css({overflow:"hidden"}),
b.pageObjs[0]=f("<div />",{"class":"page p-temporal"}).css({width:this.width(),height:this.height()}).appendTo(this));this.addClass("shadow");break;case "double":b.pageObjs[0]&&(this.turn("stop").css({overflow:""}),b.pageObjs[0].remove(),delete b.pageObjs[0]),this.removeClass("shadow")}b.display=a;c&&(a=this.turn("size"),g._movePages.call(this,1,0),this.turn("size",a.width,a.height).turn("update"));return this},direction:function(a){var b=this.data();if(void 0===a)return b.direction;a=a.toLowerCase();
if(-1==f.inArray(a,W))throw q('"'+a+'" is not a value for direction');"rtl"==a&&f(this).attr("dir","ltr").css({direction:"ltr"});b.direction=a;b.done&&this.turn("size",f(this).width(),f(this).height());return this},animating:function(){return 0<this.data().pageMv.length},corner:function(){var a,b,c=this.data();for(b in c.pages)if(n(b,c.pages)&&(a=c.pages[b].flip("corner")))return a;return!1},data:function(){return this.data()},disable:function(a){var b,c=this.data(),d=this.turn("view");c.disabled=
void 0===a||!0===a;for(b in c.pages)n(b,c.pages)&&c.pages[b].flip("disable",c.disabled?!0:-1==f.inArray(parseInt(b,10),d));return this},disabled:function(a){return void 0===a?!0===this.data().disabled:this.turn("disable",a)},size:function(a,b){if(void 0===a||void 0===b)return{width:this.width(),height:this.height()};this.turn("stop");var c,d,e=this.data();d="double"==e.display?a/2:a;this.css({width:a,height:b});e.pageObjs[0]&&e.pageObjs[0].css({width:d,height:b});for(c in e.pageWrap)n(c,e.pageWrap)&&
(d=g._pageSize.call(this,c,!0),e.pageObjs[c].css({width:d.width,height:d.height}),e.pageWrap[c].css(d),e.pages[c]&&e.pages[c].css({width:d.width,height:d.height}));this.turn("resize");return this},resize:function(){var a,b=this.data();b.pages[0]&&(b.pageWrap[0].css({left:-this.width()}),b.pages[0].flip("resize",!0));for(a=1;a<=b.totalPages;a++)b.pages[a]&&b.pages[a].flip("resize",!0);g._updateShadow.call(this);b.opts.autoCenter&&this.turn("center")},_removeMv:function(a){var b,c=this.data();for(b=
0;b<c.pageMv.length;b++)if(c.pageMv[b]==a)return c.pageMv.splice(b,1),!0;return!1},_addMv:function(a){var b=this.data();g._removeMv.call(this,a);b.pageMv.push(a)},_view:function(a){var b=this.data(),a=a||b.page;return"double"==b.display?a%2?[a-1,a]:[a,a+1]:[a]},view:function(a){var b=this.data(),a=g._view.call(this,a);return"double"==b.display?[0<a[0]?a[0]:0,a[1]<=b.totalPages?a[1]:0]:[0<a[0]&&a[0]<=b.totalPages?a[0]:0]},stop:function(a,b){if(this.turn("animating")){var c,d,e,h=this.data();h.tpage&&
(h.page=h.tpage,delete h.tpage);for(c=0;c<h.pageMv.length;c++)h.pageMv[c]&&h.pageMv[c]!==a&&(e=h.pages[h.pageMv[c]],d=e.data().f.opts,e.flip("hideFoldedPage",b),b||i._moveFoldingPage.call(e,!1),d.force&&(d.next=0===d.page%2?d.page-1:d.page+1,delete d.force))}this.turn("update");return this},pages:function(a){var b=this.data();if(a){if(a<b.totalPages)for(var c=b.totalPages;c>a;c--)this.turn("removePage",c);b.totalPages=a;g._fitPage.call(this,b.page);return this}return b.totalPages},_missing:function(a){var b=
this.data();if(!(1>b.totalPages)){for(var c=this.turn("range",a),d=[],a=c[0];a<=c[1];a++)b.pageObjs[a]||d.push(a);0<d.length&&this.trigger("missing",[d])}},_fitPage:function(a){var b=this.data(),c=this.turn("view",a);g._missing.call(this,a);if(b.pageObjs[a]){b.page=a;this.turn("stop");for(var d=0;d<c.length;d++)c[d]&&b.pageZoom[c[d]]!=b.zoom&&(this.trigger("zoomed",[c[d],c,b.pageZoom[c[d]],b.zoom]),b.pageZoom[c[d]]=b.zoom);g._removeFromDOM.call(this);g._makeRange.call(this);g._updateShadow.call(this);
this.trigger("turned",[a,c]);this.turn("update");b.opts.autoCenter&&this.turn("center")}},_turnPage:function(a){var b,c,d=this.data(),e=d.pagePlace[a],h=this.turn("view"),i=this.turn("view",a);if(d.page!=a){var j=d.page;if("prevented"==t("turning",this,[a,i])){j==d.page&&-1!=f.inArray(e,d.pageMv)&&d.pages[e].flip("hideFoldedPage",!0);return}-1!=f.inArray(1,i)&&this.trigger("first");-1!=f.inArray(d.totalPages,i)&&this.trigger("last")}"single"==d.display?(b=h[0],c=i[0]):h[1]&&a>h[1]?(b=h[1],c=i[0]):
h[0]&&a<h[0]&&(b=h[0],c=i[1]);e=d.opts.turnCorners.split(",");h=d.pages[b].data().f;i=h.opts;j=h.point;g._missing.call(this,a);d.pageObjs[a]&&(this.turn("stop"),d.page=a,g._makeRange.call(this),d.tpage=c,i.next!=c&&(i.next=c,i.force=!0),this.turn("update"),h.point=j,"hard"==h.effect?"ltr"==d.direction?d.pages[b].flip("turnPage",a>b?"r":"l"):d.pages[b].flip("turnPage",a>b?"l":"r"):"ltr"==d.direction?d.pages[b].flip("turnPage",e[a>b?1:0]):d.pages[b].flip("turnPage",e[a>b?0:1]))},page:function(a){var b=
this.data();if(void 0===a)return b.page;if(!b.disabled&&!b.destroying){a=parseInt(a,10);if(0<a&&a<=b.totalPages)return a!=b.page&&(!b.done||-1!=f.inArray(a,this.turn("view"))?g._fitPage.call(this,a):g._turnPage.call(this,a)),this;throw q("The page "+a+" does not exist");}},next:function(){return this.turn("page",Math.min(this.data().totalPages,g._view.call(this,this.data().page).pop()+1))},previous:function(){return this.turn("page",Math.max(1,g._view.call(this,this.data().page).shift()-1))},peel:function(a,
b){var c=this.data(),d=this.turn("view"),b=void 0===b?!0:!0===b;!1===a?this.turn("stop",null,b):"single"==c.display?c.pages[c.page].flip("peel",a,b):(d="ltr"==c.direction?-1!=a.indexOf("l")?d[0]:d[1]:-1!=a.indexOf("l")?d[1]:d[0],c.pages[d]&&c.pages[d].flip("peel",a,b));return this},_addMotionPage:function(){var a=f(this).data().f.opts,b=a.turn;b.data();g._addMv.call(b,a.page)},_eventStart:function(a,b,c){var d=b.turn.data(),e=d.pageZoom[b.page];a.isDefaultPrevented()||(e&&e!=d.zoom&&(b.turn.trigger("zoomed",
[b.page,b.turn.turn("view",b.page),e,d.zoom]),d.pageZoom[b.page]=d.zoom),"single"==d.display&&c&&("l"==c.charAt(1)&&"ltr"==d.direction||"r"==c.charAt(1)&&"rtl"==d.direction?(b.next=b.next<b.page?b.next:b.page-1,b.force=!0):b.next=b.next>b.page?b.next:b.page+1),g._addMotionPage.call(a.target));g._updateShadow.call(b.turn)},_eventEnd:function(a,b,c){f(a.target).data();var a=b.turn,d=a.data();if(c){if(c=d.tpage||d.page,c==b.next||c==b.page)delete d.tpage,g._fitPage.call(a,c||b.next,!0)}else g._removeMv.call(a,
b.page),g._updateShadow.call(a),a.turn("update")},_eventPressed:function(a){var a=f(a.target).data().f,b=a.opts.turn;b.data().mouseAction=!0;b.turn("update");return a.time=(new Date).getTime()},_eventReleased:function(a,b){var c;c=f(a.target);var d=c.data().f,e=d.opts.turn,h=e.data();c="single"==h.display?"br"==b.corner||"tr"==b.corner?b.x<c.width()/2:b.x>c.width()/2:0>b.x||b.x>c.width();if(200>(new Date).getTime()-d.time||c)a.preventDefault(),g._turnPage.call(e,d.opts.next);h.mouseAction=!1},_flip:function(a){a.stopPropagation();
a=f(a.target).data().f.opts;a.turn.trigger("turn",[a.next]);a.turn.data().opts.autoCenter&&a.turn.turn("center",a.next)},_touchStart:function(){var a=this.data(),b;for(b in a.pages)if(n(b,a.pages)&&!1===i._eventStart.apply(a.pages[b],arguments))return!1},_touchMove:function(){var a=this.data(),b;for(b in a.pages)n(b,a.pages)&&i._eventMove.apply(a.pages[b],arguments)},_touchEnd:function(){var a=this.data(),b;for(b in a.pages)n(b,a.pages)&&i._eventEnd.apply(a.pages[b],arguments)},calculateZ:function(a){var b,
c,d,e,h=this,f=this.data();b=this.turn("view");var i=b[0]||b[1],g=a.length-1,j={pageZ:{},partZ:{},pageV:{}},k=function(a){a=h.turn("view",a);a[0]&&(j.pageV[a[0]]=!0);a[1]&&(j.pageV[a[1]]=!0)};for(b=0;b<=g;b++)c=a[b],d=f.pages[c].data().f.opts.next,e=f.pagePlace[c],k(c),k(d),c=f.pagePlace[d]==d?d:c,j.pageZ[c]=f.totalPages-Math.abs(i-c),j.partZ[e]=2*f.totalPages-g+b;return j},update:function(){var a,b=this.data();if(this.turn("animating")&&0!==b.pageMv[0]){var c,d=this.turn("calculateZ",b.pageMv),e=
this.turn("corner"),h=this.turn("view"),i=this.turn("view",b.tpage);for(a in b.pageWrap)if(n(a,b.pageWrap)&&(c=b.pageObjs[a].hasClass("fixed"),b.pageWrap[a].css({display:d.pageV[a]||c?"":"none",zIndex:(b.pageObjs[a].hasClass("hard")?d.partZ[a]:d.pageZ[a])||(c?-1:0)}),c=b.pages[a]))c.flip("z",d.partZ[a]||null),d.pageV[a]&&c.flip("resize"),b.tpage?c.flip("hover",!1).flip("disable",-1==f.inArray(parseInt(a,10),b.pageMv)&&a!=i[0]&&a!=i[1]):c.flip("hover",!1===e).flip("disable",a!=h[0]&&a!=h[1])}else for(a in b.pageWrap)n(a,
b.pageWrap)&&(d=g._setPageLoc.call(this,a),b.pages[a]&&b.pages[a].flip("disable",b.disabled||1!=d).flip("hover",!0).flip("z",null));return this},_updateShadow:function(){var a,b,c=this.data(),d=this.width(),e=this.height(),h="single"==c.display?d:d/2;a=this.turn("view");c.shadow||(c.shadow=f("<div />",{"class":"shadow",css:l(0,0,0).css}).appendTo(this));for(var i=0;i<c.pageMv.length&&a[0]&&a[1];i++)a=this.turn("view",c.pages[c.pageMv[i]].data().f.opts.next),b=this.turn("view",c.pageMv[i]),a[0]=a[0]&&
b[0],a[1]=a[1]&&b[1];switch(a[0]?a[1]?3:"ltr"==c.direction?2:1:"ltr"==c.direction?1:2){case 1:c.shadow.css({width:h,height:e,top:0,left:h});break;case 2:c.shadow.css({width:h,height:e,top:0,left:0});break;case 3:c.shadow.css({width:d,height:e,top:0,left:0})}},_setPageLoc:function(a){var b=this.data(),c=this.turn("view"),d=0;if(a==c[0]||a==c[1])d=1;else if("single"==b.display&&a==c[0]+1||"double"==b.display&&a==c[0]-2||a==c[1]+2)d=2;if(!this.turn("animating"))switch(d){case 1:b.pageWrap[a].css({zIndex:b.totalPages,
display:""});break;case 2:b.pageWrap[a].css({zIndex:b.totalPages-1,display:""});break;case 0:b.pageWrap[a].css({zIndex:0,display:b.pageObjs[a].hasClass("fixed")?"":"none"})}return d},options:function(a){if(void 0===a)return this.data().opts;var b=this.data();f.extend(b.opts,a);a.pages&&this.turn("pages",a.pages);a.page&&this.turn("page",a.page);a.display&&this.turn("display",a.display);a.direction&&this.turn("direction",a.direction);a.width&&a.height&&this.turn("size",a.width,a.height);if(a.when)for(var c in a.when)n(c,
a.when)&&this.unbind(c).bind(c,a.when[c]);return this},version:function(){return"4.1.0"}},i={init:function(a){this.data({f:{disabled:!1,hover:!1,effect:this.hasClass("hard")?"hard":"sheet"}});this.flip("options",a);i._addPageWrapper.call(this);return this},setData:function(a){var b=this.data();b.f=f.extend(b.f,a);return this},options:function(a){var b=this.data().f;return a?(i.setData.call(this,{opts:f.extend({},b.opts||Y,a)}),this):b.opts},z:function(a){var b=this.data().f;b.opts["z-index"]=a;b.fwrapper&&
b.fwrapper.css({zIndex:a||parseInt(b.parent.css("z-index"),10)||0});return this},_cAllowed:function(){var a=this.data().f,b=a.opts.page,c=a.opts.turn.data(),d=b%2;return"hard"==a.effect?"ltr"==c.direction?[d?"r":"l"]:[d?"l":"r"]:"single"==c.display?1==b?"ltr"==c.direction?p.forward:p.backward:b==c.totalPages?"ltr"==c.direction?p.backward:p.forward:p.all:"ltr"==c.direction?p[d?"forward":"backward"]:p[d?"backward":"forward"]},_cornerActivated:function(a){var b=this.data().f,c=this.width(),d=this.height(),
a={x:a.x,y:a.y,corner:""},e=b.opts.cornerSize;if(0>=a.x||0>=a.y||a.x>=c||a.y>=d)return!1;var h=i._cAllowed.call(this);switch(b.effect){case "hard":if(a.x>c-e)a.corner="r";else if(a.x<e)a.corner="l";else return!1;break;case "sheet":if(a.y<e)a.corner+="t";else if(a.y>=d-e)a.corner+="b";else return!1;if(a.x<=e)a.corner+="l";else if(a.x>=c-e)a.corner+="r";else return!1}return!a.corner||-1==f.inArray(a.corner,h)?!1:a},_isIArea:function(a){var b=this.data().f.parent.offset(),a=u&&a.originalEvent?a.originalEvent.touches[0]:
a;return i._cornerActivated.call(this,{x:a.pageX-b.left,y:a.pageY-b.top})},_c:function(a,b){b=b||0;switch(a){case "tl":return j(b,b);case "tr":return j(this.width()-b,b);case "bl":return j(b,this.height()-b);case "br":return j(this.width()-b,this.height()-b);case "l":return j(b,0);case "r":return j(this.width()-b,0)}},_c2:function(a){switch(a){case "tl":return j(2*this.width(),0);case "tr":return j(-this.width(),0);case "bl":return j(2*this.width(),this.height());case "br":return j(-this.width(),
this.height());case "l":return j(2*this.width(),0);case "r":return j(-this.width(),0)}},_foldingPage:function(){var a=this.data().f;if(a){var b=a.opts;if(b.turn)return a=b.turn.data(),"single"==a.display?1<b.next||1<b.page?a.pageObjs[0]:null:a.pageObjs[b.next]}},_backGradient:function(){var a=this.data().f,b=a.opts.turn.data();if((b=b.opts.gradients&&("single"==b.display||2!=a.opts.page&&a.opts.page!=b.totalPages-1))&&!a.bshadow)a.bshadow=f("<div/>",l(0,0,1)).css({position:"",width:this.width(),height:this.height()}).appendTo(a.parent);
return b},type:function(){return this.data().f.effect},resize:function(a){var b=this.data().f,c=b.opts.turn.data(),d=this.width(),e=this.height();switch(b.effect){case "hard":a&&(b.wrapper.css({width:d,height:e}),b.fpage.css({width:d,height:e}),c.opts.gradients&&(b.ashadow.css({width:d,height:e}),b.bshadow.css({width:d,height:e})));break;case "sheet":a&&(a=Math.round(Math.sqrt(Math.pow(d,2)+Math.pow(e,2))),b.wrapper.css({width:a,height:a}),b.fwrapper.css({width:a,height:a}).children(":first-child").css({width:d,
height:e}),b.fpage.css({width:d,height:e}),c.opts.gradients&&b.ashadow.css({width:d,height:e}),i._backGradient.call(this)&&b.bshadow.css({width:d,height:e})),b.parent.is(":visible")&&(c=D(b.parent[0]),b.fwrapper.css({top:c.top,left:c.left}),c=D(b.opts.turn[0]),b.fparent.css({top:-c.top,left:-c.left})),this.flip("z",b.opts["z-index"])}},_addPageWrapper:function(){var a=this.data().f,b=a.opts.turn.data(),c=this.parent();a.parent=c;if(!a.wrapper)switch(a.effect){case "hard":var d={};d[w+"transform-style"]=
"preserve-3d";d[w+"backface-visibility"]="hidden";a.wrapper=f("<div/>",l(0,0,2)).css(d).appendTo(c).prepend(this);a.fpage=f("<div/>",l(0,0,1)).css(d).appendTo(c);b.opts.gradients&&(a.ashadow=f("<div/>",l(0,0,0)).hide().appendTo(c),a.bshadow=f("<div/>",l(0,0,0)));break;case "sheet":var d=this.width(),e=this.height();Math.round(Math.sqrt(Math.pow(d,2)+Math.pow(e,2)));a.fparent=a.opts.turn.data().fparent;a.fparent||(d=f("<div/>",{css:{"pointer-events":"none"}}).hide(),d.data().flips=0,d.css(l(0,0,"auto",
"visible").css).appendTo(a.opts.turn),a.opts.turn.data().fparent=d,a.fparent=d);this.css({position:"absolute",top:0,left:0,bottom:"auto",right:"auto"});a.wrapper=f("<div/>",l(0,0,this.css("z-index"))).appendTo(c).prepend(this);a.fwrapper=f("<div/>",l(c.offset().top,c.offset().left)).hide().appendTo(a.fparent);a.fpage=f("<div/>",l(0,0,0,"visible")).css({cursor:"default"}).appendTo(a.fwrapper);b.opts.gradients&&(a.ashadow=f("<div/>",l(0,0,1)).appendTo(a.fpage));i.setData.call(this,a)}i.resize.call(this,
!0)},_fold:function(a){var b=this.data().f,c=b.opts.turn.data(),d=i._c.call(this,a.corner),e=this.width(),h=this.height();switch(b.effect){case "hard":a.x="l"==a.corner?Math.min(Math.max(a.x,0),2*e):Math.max(Math.min(a.x,e),-e);var f,g,s,x,k,n=c.totalPages,l=b.opts["z-index"]||n,q={overflow:"visible"},p=d.x?(d.x-a.x)/e:a.x/e,r=90*p,t=90>r;switch(a.corner){case "l":x="0% 50%";k="100% 50%";t?(f=0,g=0<b.opts.next-1,s=1):(f="100%",g=b.opts.page+1<n,s=0);break;case "r":x="100% 50%",k="0% 50%",r=-r,e=-e,
t?(f=0,g=b.opts.next+1<n,s=0):(f="-100%",g=1!=b.opts.page,s=1)}q[w+"perspective-origin"]=k;b.wrapper.transform("rotateY("+r+"deg)translate3d(0px, 0px, "+(this.attr("depth")||0)+"px)",k);b.fpage.transform("translateX("+e+"px) rotateY("+(180+r)+"deg)",x);b.parent.css(q);t?(p=-p+1,b.wrapper.css({zIndex:l+1}),b.fpage.css({zIndex:l})):(p-=1,b.wrapper.css({zIndex:l}),b.fpage.css({zIndex:l+1}));c.opts.gradients&&(g?b.ashadow.css({display:"",left:f,backgroundColor:"rgba(0,0,0,"+0.5*p+")"}).transform("rotateY(0deg)"):
b.ashadow.hide(),b.bshadow.css({opacity:-p+1}),t?b.bshadow.parent()[0]!=b.wrapper[0]&&b.bshadow.appendTo(b.wrapper):b.bshadow.parent()[0]!=b.fpage[0]&&b.bshadow.appendTo(b.fpage),P(b.bshadow,j(100*s,0),j(100*(-s+1),0),[[0,"rgba(0,0,0,0.3)"],[1,"rgba(0,0,0,0)"]],2));break;case "sheet":var u=this,H=0,z,A,B,M,y,N,D,v=j(0,0),Q=j(0,0),m=j(0,0),J=i._foldingPage.call(this);Math.tan(0);var O=c.opts.acceleration,R=b.wrapper.height(),E="t"==a.corner.substr(0,1),C="l"==a.corner.substr(1,1),I=function(){var b=
j(0,0),f=j(0,0);b.x=d.x?d.x-a.x:a.x;b.y=U?d.y?d.y-a.y:a.y:0;f.x=C?e-b.x/2:a.x+b.x/2;f.y=b.y/2;var g=L-Math.atan2(b.y,b.x),k=g-Math.atan2(f.y,f.x),k=Math.max(0,Math.sin(k)*Math.sqrt(Math.pow(f.x,2)+Math.pow(f.y,2)));H=180*(g/K);m=j(k*Math.sin(g),k*Math.cos(g));if(g>L&&(m.x+=Math.abs(m.y*b.y/b.x),m.y=0,Math.round(m.x*Math.tan(K-g))<h))return a.y=Math.sqrt(Math.pow(h,2)+2*f.x*b.x),E&&(a.y=h-a.y),I();g>L&&(b=K-g,f=R-h/Math.sin(b),v=j(Math.round(f*Math.cos(b)),Math.round(f*Math.sin(b))),C&&(v.x=-v.x),
E&&(v.y=-v.y));z=Math.round(m.y/Math.tan(g)+m.x);b=e-z;f=b*Math.cos(2*g);k=b*Math.sin(2*g);Q=j(Math.round(C?b-f:z+f),Math.round(E?k:h-k));c.opts.gradients&&(y=b*Math.sin(g),b=i._c2.call(u,a.corner),b=Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))/e,D=Math.sin(L*(1<b?2-b:b)),N=Math.min(b,1),M=100<y?(y-100)/y:0,A=j(100*(y*Math.sin(g)/e),100*(y*Math.cos(g)/h)),i._backGradient.call(u)&&(B=j(100*(1.2*y*Math.sin(g)/e),100*(1.2*y*Math.cos(g)/h)),C||(B.x=100-B.x),E||(B.y=100-B.y)));m.x=Math.round(m.x);
m.y=Math.round(m.y);return!0};f=function(a,d,f,g){var k=["0","auto"],m=(e-R)*f[0]/100,l=(h-R)*f[1]/100,d={left:k[d[0]],top:k[d[1]],right:k[d[2]],bottom:k[d[3]]},k={},n=90!=g&&-90!=g?C?-1:1:0,s=f[0]+"% "+f[1]+"%";u.css(d).transform(G(g)+F(a.x+n,a.y,O),s);b.fpage.css(d).transform(G(g)+F(a.x+Q.x-v.x-e*f[0]/100,a.y+Q.y-v.y-h*f[1]/100,O)+G((180/g-2)*g),s);b.wrapper.transform(F(-a.x+m-n,-a.y+l,O)+G(-g),s);b.fwrapper.transform(F(-a.x+v.x+m,-a.y+v.y+l,O)+G(-g),s);c.opts.gradients&&(f[0]&&(A.x=100-A.x),f[1]&&
(A.y=100-A.y),k["box-shadow"]="0 0 20px rgba(0,0,0,"+0.5*D+")",J.css(k),P(b.ashadow,j(C?100:0,E?0:100),j(A.x,A.y),[[M,"rgba(0,0,0,0)"],[0.8*(1-M)+M,"rgba(0,0,0,"+0.2*N+")"],[1,"rgba(255,255,255,"+0.2*N+")"]],3,0),i._backGradient.call(u)&&P(b.bshadow,j(C?0:100,E?0:100),j(B.x,B.y),[[0.6,"rgba(0,0,0,0)"],[0.8,"rgba(0,0,0,"+0.3*N+")"],[1,"rgba(0,0,0,0)"]],3))};switch(a.corner){case "tl":a.x=Math.max(a.x,1);I();f(m,[1,0,0,1],[100,0],H);break;case "tr":a.x=Math.min(a.x,e-1);I();f(j(-m.x,m.y),[0,0,0,1],
[0,0],-H);break;case "bl":a.x=Math.max(a.x,1);I();f(j(m.x,-m.y),[1,1,0,0],[100,100],-H);break;case "br":a.x=Math.min(a.x,e-1),I(),f(j(-m.x,-m.y),[0,1,1,0],[0,100],H)}}b.point=a},_moveFoldingPage:function(a){var b=this.data().f;if(b){var c=b.opts.turn,d=c.data(),e=d.pagePlace;a?(d=b.opts.next,e[d]!=b.opts.page&&(b.folding&&i._moveFoldingPage.call(this,!1),i._foldingPage.call(this).appendTo(b.fpage),e[d]=b.opts.page,b.folding=d),c.turn("update")):b.folding&&(d.pages[b.folding]?(c=d.pages[b.folding].data().f,
d.pageObjs[b.folding].appendTo(c.wrapper)):d.pageWrap[b.folding]&&d.pageObjs[b.folding].appendTo(d.pageWrap[b.folding]),b.folding in e&&(e[b.folding]=b.folding),delete b.folding)}},_showFoldedPage:function(a,b){var c=i._foldingPage.call(this),d=this.data(),e=d.f,f=e.visible;if(c){if(!f||!e.point||e.point.corner!=a.corner)if(c="hover"==e.status||"peel"==e.status||e.opts.turn.data().mouseAction?a.corner:null,f=!1,"prevented"==t("start",this,[e.opts,c]))return!1;if(b){var g=this,d=e.point&&e.point.corner==
a.corner?e.point:i._c.call(this,a.corner,1);this.animatef({from:[d.x,d.y],to:[a.x,a.y],duration:500,frame:function(b){a.x=Math.round(b[0]);a.y=Math.round(b[1]);i._fold.call(g,a)}})}else i._fold.call(this,a),d.effect&&!d.effect.turning&&this.animatef(!1);if(!f)switch(e.effect){case "hard":e.visible=!0;i._moveFoldingPage.call(this,!0);e.fpage.show();e.opts.shadows&&e.bshadow.show();break;case "sheet":e.visible=!0,e.fparent.show().data().flips++,i._moveFoldingPage.call(this,!0),e.fwrapper.show(),e.bshadow&&
e.bshadow.show()}return!0}return!1},hide:function(){var a=this.data().f,b=a.opts.turn.data(),c=i._foldingPage.call(this);switch(a.effect){case "hard":b.opts.gradients&&(a.bshadowLoc=0,a.bshadow.remove(),a.ashadow.hide());a.wrapper.transform("");a.fpage.hide();break;case "sheet":0===--a.fparent.data().flips&&a.fparent.hide(),this.css({left:0,top:0,right:"auto",bottom:"auto"}).transform(""),a.wrapper.transform(""),a.fwrapper.hide(),a.bshadow&&a.bshadow.hide(),c.transform("")}a.visible=!1;return this},
hideFoldedPage:function(a){var b=this.data().f;if(b.point){var c=this,d=b.point,e=function(){b.point=null;b.status="";c.flip("hide");c.trigger("end",[b.opts,!1])};if(a){var f=i._c.call(this,d.corner),a="t"==d.corner.substr(0,1)?Math.min(0,d.y-f.y)/2:Math.max(0,d.y-f.y)/2,g=j(d.x,d.y+a),l=j(f.x,f.y-a);this.animatef({from:0,to:1,frame:function(a){a=S(d,g,l,f,a);d.x=a.x;d.y=a.y;i._fold.call(c,d)},complete:e,duration:800,hiding:!0})}else this.animatef(!1),e()}},turnPage:function(a){var b=this,c=this.data().f,
d=c.opts.turn.data(),a={corner:c.corner?c.corner.corner:a||i._cAllowed.call(this)[0]},e=c.point||i._c.call(this,a.corner,c.opts.turn?d.opts.elevation:0),f=i._c2.call(this,a.corner);this.trigger("flip").animatef({from:0,to:1,frame:function(c){c=S(e,e,f,f,c);a.x=c.x;a.y=c.y;i._showFoldedPage.call(b,a)},complete:function(){b.trigger("end",[c.opts,!0])},duration:d.opts.duration,turning:!0});c.corner=null},moving:function(){return"effect"in this.data()},isTurning:function(){return this.flip("moving")&&
this.data().effect.turning},corner:function(){return this.data().f.corner},_eventStart:function(a){var b=this.data().f,c=b.opts.turn;if(!b.corner&&!b.disabled&&!this.flip("isTurning")&&b.opts.page==c.data().pagePlace[b.opts.page]){b.corner=i._isIArea.call(this,a);if(b.corner&&i._foldingPage.call(this))return this.trigger("pressed",[b.point]),i._showFoldedPage.call(this,b.corner),!1;b.corner=null}},_eventMove:function(a){var b=this.data().f;if(!b.disabled)if(a=u?a.originalEvent.touches:[a],b.corner){var c=
b.parent.offset();b.corner.x=a[0].pageX-c.left;b.corner.y=a[0].pageY-c.top;i._showFoldedPage.call(this,b.corner)}else if(b.hover&&!this.data().effect&&this.is(":visible"))if(a=i._isIArea.call(this,a[0])){if("sheet"==b.effect&&2==a.corner.length||"hard"==b.effect)b.status="hover",b=i._c.call(this,a.corner,b.opts.cornerSize/2),a.x=b.x,a.y=b.y,i._showFoldedPage.call(this,a,!0)}else"hover"==b.status&&(b.status="",i.hideFoldedPage.call(this,!0))},_eventEnd:function(){var a=this.data().f,b=a.corner;!a.disabled&&
b&&"prevented"!=t("released",this,[a.point||b])&&i.hideFoldedPage.call(this,!0);a.corner=null},disable:function(a){i.setData.call(this,{disabled:a});return this},hover:function(a){i.setData.call(this,{hover:a});return this},peel:function(a,b){var c=this.data().f;if(a){if(-1==f.inArray(a,p.all))throw q("Corner "+a+" is not permitted");if(-1!=f.inArray(a,i._cAllowed.call(this))){var d=i._c.call(this,a,c.opts.cornerSize/2);c.status="peel";i._showFoldedPage.call(this,{corner:a,x:d.x,y:d.y},b)}}else c.status=
"",i.hideFoldedPage.call(this,b);return this}};window.requestAnim=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)};f.extend(f.fn,{flip:function(){return J(f(this[0]),i,arguments)},turn:function(){return J(f(this[0]),g,arguments)},transform:function(a,b){var c={};b&&(c[w+"transform-origin"]=b);c[w+"transform"]=a;return this.css(c)},animatef:function(a){var b=
this.data();b.effect&&b.effect.stop();if(a){a.to.length||(a.to=[a.to]);a.from.length||(a.from=[a.from]);for(var c=[],d=a.to.length,e=!0,g=this,i=(new Date).getTime(),j=function(){if(b.effect&&e){for(var f=[],k=Math.min(a.duration,(new Date).getTime()-i),l=0;l<d;l++)f.push(b.effect.easing(1,k,a.from[l],c[l],a.duration));a.frame(1==d?f[0]:f);k==a.duration?(delete b.effect,g.data(b),a.complete&&a.complete()):window.requestAnim(j)}},l=0;l<d;l++)c.push(a.to[l]-a.from[l]);b.effect=f.extend({stop:function(){e=
!1},easing:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c}},a);this.data(b);j()}else delete b.effect}});f.isTouch=u;f.mouseEvents=r;f.cssPrefix=T;f.cssTransitionEnd=function(){var a,b=document.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MSTransition:"transitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(void 0!==b.style[a])return c[a]};f.findPos=D})(jQuery);
        </script>
        <script>
            var TemplateBuilder=function(e){function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,'a',t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="/dist/adformats",n(n.s=0)}([function(module,exports){function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},_createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),TemplateBuilder=function(){function TemplateBuilder(e){_classCallCheck(this,TemplateBuilder),this.defaultConfig={cdn:'https://d2v4tz4zvhrua.cloudfront.net/production/dist/2019-05-07-1557206750347',plugins:[],adformats:[],components:[],develop:!0,showCreateButton:!0,BaseAdUnit:[],OnBaseAdUnitPrepared:[],BaseFormatsCode:[],OnBaseComponentsCode:[]},this.config=_extends({},this.defaultConfig,e),this.refs={},this.init()}return _createClass(TemplateBuilder,[{key:'appendCdnScript',value:function(){var e=this,n=e.config.develop,t=n?'../src':e.config.cdn;e.config.plugins.forEach(function(e){var n=document.createElement("script");n.src=e,document.body.appendChild(n)}),e.config.adformats.forEach(function(e){e=n?e+'.js':e+'.min.js';var a=document.createElement("script");a.src=t+'/adformats/'+e,document.body.appendChild(a)}),e.config.components.forEach(function(e){e=n?e+'.js':e+'.min.js';var a=document.createElement("script");a.src=t+'/components/'+e,document.body.appendChild(a)})}},{key:'appendCustomJs',value:function appendCustomJs(){var self=this,sc=document.createElement("script");sc.src="https://d1v69ngg41pvl6.cloudfront.net/dist/MixPlayer.js",sc.onload=function(){var DynamicClass=function e(n,t){return _classCallCheck(this,e),new n(t)},fakeBannerContainerOption={request_id:'55667788',track_url:'[{"event":"view","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=view"},                {"event":"impression","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=impression"},                {"event":"video_percentage:0","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=video_percentage:0"},                {"event":"video_percentage:25","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=video_percentage:25"},                {"event":"video_percentage:50","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=video_percentage:50"},                {"event":"video_percentage:75","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=video_percentage:75"},                {"event":"video_percentage:100","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=video_percentage:100"},                {"event":"click","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=click"},                {"event":"close","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=close"},                {"event":"custom","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=custom"},                {"event":"replay","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=replay"}]',downloaded_pixel:'https://vaser-track.vm5apis.com/v2/track?requestId=&event=downloaded&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0',dfp_url:'',cta_prefix_url:'https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=click'},fakeInterstitialOption={el:'#vmfive-ad-unit-container-55667788',request_id:fakeBannerContainerOption.request_id,track_url:fakeBannerContainerOption.track_url,downloaded_pixel:fakeBannerContainerOption.downloaded_pixel},fakeEXPSNDOption=_defineProperty({el:'#vmfive-ad-unit-container-55667788-expand',request_id:fakeBannerContainerOption.request_id+'-expand',track_url:fakeBannerContainerOption.track_url,cta_prefix_url:fakeBannerContainerOption.cta_prefix_url,downloaded_pixel:fakeBannerContainerOption.downloaded_pixel,dfp_url:''},'cta_prefix_url','https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=click'),firstContainerName=void 0,isFirstContainer=!0,BaseAdUnitCallbacks=self.config.BaseAdUnit&&Array.isArray(self.config.BaseAdUnit)?self.config.BaseAdUnit:[];BaseAdUnitCallbacks.forEach(function(callback,index){var isAdformat=callback.toString().match(/adformatName(.*?),/g);isAdformat||(self.config.BaseFormatsCode.push({extraFunction:callback}),callback(self));var adUnitContainer=void 0;if('function'==typeof callback&&isAdformat){adUnitContainer=callback(self),self.config.BaseFormatsCode.push({adformatName:adUnitContainer.adformatName,refName:adUnitContainer.refName,option:_extends({},eval(adUnitContainer.adformatName).getDefaultConfig(),adUnitContainer.option)}),isFirstContainer&&(firstContainerName=adUnitContainer.refName,isFirstContainer=!1),adUnitContainer.demoOption=adUnitContainer.demoOption?adUnitContainer.demoOption:{};var currentOption=void 0;currentOption='BannerContainer'===adUnitContainer.refName||'BannerContainer2'===adUnitContainer.refName?_extends({},adUnitContainer.option,adUnitContainer.demoOption,fakeBannerContainerOption):'Interstitial'===adUnitContainer.refName&&0===index?_extends({},adUnitContainer.option,adUnitContainer.demoOption,fakeBannerContainerOption):'InterstitialStatic'===adUnitContainer.refName&&0===index?_extends({},adUnitContainer.option,adUnitContainer.demoOption,fakeBannerContainerOption):'Interstitial'===adUnitContainer.refName||'InterstitialStatic'===adUnitContainer.refName||'UprightAround'===adUnitContainer.refName||'Brochure'===adUnitContainer.refName?_extends({},adUnitContainer.option,adUnitContainer.demoOption,fakeEXPSNDOption):(adUnitContainer.refName,_extends({},adUnitContainer.option,adUnitContainer.demoOption,fakeBannerContainerOption)),self.refs[adUnitContainer.refName]=new DynamicClass(eval(adUnitContainer.adformatName),currentOption)}});var OnBaseAdUnitPreparedCallbacks=self.config.OnBaseAdUnitPrepared&&Array.isArray(self.config.OnBaseAdUnitPrepared)?self.config.OnBaseAdUnitPrepared:[];OnBaseAdUnitPreparedCallbacks.forEach(function(callback){var fakeComponentOption={request_id:self.refs[firstContainerName].config.request_id,track_url:self.refs[firstContainerName].config.track_url,downloaded_pixel:self.refs[firstContainerName].config.downloaded_pixel,dfp_url:self.refs[firstContainerName].config.dfp_url,cta_prefix_url:self.refs[firstContainerName].config.cta_prefix_url},isComponent=callback.toString().match(/componentName(.*?),/g);isComponent||(self.config.OnBaseComponentsCode.push({extraFunction:callback}),callback(self));var elToString=void 0,hasEl=callback.toString().match(/el:(.*?),/g);if(hasEl){var elUnCall=callback.toString().match(/el:(.*?),/g).toString();elToString=elUnCall.replace(/el: self\.refs\['/g,'').replace(/\']/g,'El').replace(/,/g,'')}var originalToString=void 0,expandedToString=void 0,isExpandHelper=callback.toString().match(/componentName: 'ExpandHelper'/g);if(isExpandHelper){var originalUnCall=callback.toString().match(/original:(.*?),/g).toString();originalToString=originalUnCall.replace(/original: self\.refs\['/g,'').replace(/\']/g,'El').replace(/,/g,'');var expandedUnCall=callback.toString().match(/expanded:(.*?),/g).toString();expandedToString=expandedUnCall.replace(/expanded: self\.refs\['/g,'').replace(/\']/g,'El').replace(/,/g,'')}if('function'==typeof callback&&isComponent){var item=callback(self),currentComOption=_extends({},item.option,item.demoOption,fakeComponentOption);hasEl&&(item.option.el=elToString),isExpandHelper&&(item.option.original=originalToString,item.option.expanded=expandedToString),self.config.OnBaseComponentsCode.push({componentName:item.componentName,refName:item.refName,option:_extends({},eval(item.componentName).getDefaultConfig(),item.option)}),self.refs[item.refName]=new DynamicClass(eval(item.componentName),currentComOption)}})},document.body.appendChild(sc)}},{key:'stringifyOption',value:function(e){return JSON.stringify(e,function(e,n){if('function'==typeof n){var t=n.toString();return t=t.replace(/\r\n/g,""),t=t.replace(/\n/g,""),'thisisforfunction'+(t=t.replace(/\s+/g," "))+'thisisforfunction'}return n})}},{key:'createTemplate',value:function(e,n,t){var a=this,i=a.config.cdn,r='';a.config.BaseFormatsCode.forEach(function(e,n){if(a.config.BaseFormatsCode[n].adformatName){var t=a.stringifyOption(a.config.BaseFormatsCode[n].option),i=t;i=i.replace(/\"el\":\"(.*?)\",/g,"el: '$1',thisForTitle"),i=i.replace(/,\"([^(\_|\:|\")"]+)\":/g,",thisForTitle$1:"),i=i.replace(/:\"\[\{(.*?)\}\]\"/g,":[{$1}]"),i=i.replace(/:\"([^(*)"]+)\",/g,":'$1',thisForTitle"),i=i.replace(/(thisisforfunction")|("thisisforfunction)/g,""),i=i.replace(/,(thisForTitle)+/g,",\n"),i=i.replace(/self\.refs\['(.*?)'\]/g,"$1El"),i=i.replace(/55667788/g,"[request_id]"),r=r+'let '+a.config.BaseFormatsCode[n].refName+'El = new '+a.config.BaseFormatsCode[n].adformatName+'('+i+');\n        '}else{var o=a.stringifyOption(a.config.BaseFormatsCode[n].extraFunction);o=o.replace(/("thisisforfunctionfunction\s*\(self\) \{)|(\}thisisforfunction")/g,""),o=o.replace(/self\.refs\['(.*?)'\]/g,"$1El"),r=r+o+'\n        '}});var o='';a.config.OnBaseComponentsCode.forEach(function(e,n){var t='\n        ';if(n===a.config.OnBaseComponentsCode.length-1&&(t=''),a.config.OnBaseComponentsCode[n].componentName){var i=a.stringifyOption(a.config.OnBaseComponentsCode[n].option),r=i;r=r.replace(/\"el\":\"(.*?)\",/g,"\"el\": $1,thisForTitle"),r=r.replace(/,\"([^(\_|\:|\")"]+)\":/g,",thisForTitle$1:"),r=r.replace(/{\"([^(\_|\:|\")"]+)\":/g,"{$1:"),r=r.replace(/:\"\[\{(.*?)\}\]\"/g,":[{$1}]"),r=r.replace(/:\"([^(*)"]+)\",/g,":'$1',thisForTitle"),r=r.replace(/(thisisforfunction")|("thisisforfunction)/g,""),r=r.replace(/,(thisForTitle)+/g,",\n"),r=r.replace(/self\.refs\['(.*?)'\]/g,"$1El"),'ExpandHelper'===a.config.OnBaseComponentsCode[n].componentName&&(r=r.replace(/original:\s*\"(.*?)\"/g,"original: $1"),r=r.replace(/original:\s*\'(.*?)\'/g,"original: $1"),r=r.replace(/expanded:\s*\"(.*?)\"/g,"expanded: $1"),r=r.replace(/expanded:\s*\'(.*?)\'/g,"expanded: $1")),r=r.replace(/\\/g,""),r=r.replace(/55667788/g,"[request_id]"),o=o+'let '+a.config.OnBaseComponentsCode[n].refName+'El = new '+a.config.OnBaseComponentsCode[n].componentName+'('+r+');'+t}else{var c=a.stringifyOption(a.config.OnBaseComponentsCode[n].extraFunction);c=c.replace(/("thisisforfunctionfunction\s*\(self\) \{)|(\}thisisforfunction")/g,""),c=c.replace(/self\.refs\['(.*?)'\]/g,"$1El"),o=o+c+t}});var c='<script>\n    let sc = document.createElement("script");\n    sc.src = "https://d1v69ngg41pvl6.cloudfront.net/dist/MixPlayer.js";\n    sc.onload = function () {\n        '+r+o+'\n    };\n    document.body.appendChild(sc);\n<\/script>';return function(t,i){var r='',o='';return r=a.config.BaseFormatsCode.length>=2&&a.refs.Interstitial?'<div id="vmfive-ad-unit-container-[request_id]"></div>\n<div id="vmfive-ad-unit-container-[request_id]-interstitial"></div>\n':'<div id="vmfive-ad-unit-container-[request_id]"></div>\n',e.forEach(function(e){o=o+'<script src=\''+e+'\'><\/script>\n'}),n.forEach(function(e){o=o+'<script src=\''+t+'/adformats/'+e+'.min.js\'><\/script>\n'}),i.forEach(function(e){o=o+'<script src=\''+t+'/components/'+e+'.min.js\'><\/script>\n'}),r+o+c}(i,t)}},{key:'createCreateButton',value:function(){function e(){template.created()}var n=document.createElement('div');n.setAttribute('style','position:fixed;top:50px;left:2px;background:red;color: #000;width:60px;height:30px;border-radius: 15px;line-height: 28px;text-align: center;cursor: pointer;'),n.innerHTML='Create',document.body.appendChild(n),n.addEventListener('click',e,!1)}},{key:'init',value:function(){var e=this;e.appendCdnScript(),setTimeout(function(){e.appendCustomJs()},1e3),e.config.showCreateButton&&e.createCreateButton()}},{key:'created',value:function(){var e=this.createTemplate(this.config.plugins,this.config.adformats,this.config.components);e=e.replace(/>/g,'&gt;'),e=e.replace(/</g,'&lt;');var n=null;n=window.open('demo-code.html','Demo code','height=800,width=800,scrollbars=yes'),n.document.write('<figure><pre><code class="language-pascal" style="display: inline-block;">'+e+'</code></pre></figure>')}}]),TemplateBuilder}();try{module.exports=TemplateBuilder}catch(e){}}]);
            var BannerContainerBackground=function(e){function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,'a',t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="/dist/adformats",n(n.s=0)}([function(e,n){function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),r=function(){function e(n){t(this,e);n.request_id&&''!=n.request_id.trim()&&n.request_id;this.defaultConfig=this.constructor.getDefaultConfig(n),this.config=o({},this.defaultConfig,n);var i=''+this.config['text:banner_z_index'];this.config.bannerZIndex=isNaN(i)||0===i.length?'1999999':+i,this.config.logoBgColor=0===this.config['text:logo_background_color'].length?'transparent':this.config['text:logo_background_color'],this.config.bannerRatio=0===this.config['text:banner_ratio'].length?'32:10':this.config['text:banner_ratio'];var a=''+this.config['text:expand_scale'];if(this.config.expandScale=isNaN(a)||0===a.length?1:+a,this.config.logoHorizontalAlignment=0===this.config['text:logo_horizontal_alignment'].length?'right':this.config['text:logo_horizontal_alignment'],this.config.logoVerticalAlignment=0===this.config['text:logo_vertical_alignment'].length?'bottom':this.config['text:logo_vertical_alignment'],this.config.containerBackgroundHorizontalAlignment=0===this.config['text:container_background_horizontal_alignment'].length?'right':this.config['text:container_background_horizontal_alignment'],this.config.el='string'==typeof this.config.el?document.querySelector(this.config.el):this.config.el,null===this.config.el)throw new Error('Something wrong with your el param');this.config.el.insertAdjacentHTML('beforeend',this.baseTemplate),this.initData=this.initData.bind(this),this.isModeBannerTop=!1;var r=this;this.data=this.initData(this.config),this.rootView=this.config.el,this.overlayView=this.rootView.querySelector('#vmfive-overlay-'+r.config.request_id),this.adContainerView=this.rootView.querySelector('#vmfive-ad-container-'+r.config.request_id),this.adContainerBg=this.rootView.querySelector('#vmfive-container-background-'+r.config.request_id),this.videoOuter=this.rootView.querySelector('#vmfive-video-outer-'+r.config.request_id),this.unexpandedWH=[],this.init()}return a(e,null,[{key:'getDefaultConfig',value:function(e){e=e||{};var n=e.request_id&&''!=e.request_id.trim()?e.request_id:'[request_id]';return{el:'#vmfive-ad-unit-container-'+n,request_id:n,track_url:'[track_url]',downloaded_pixel:'[downloaded_pixel]',downloaded_impression_pixel:'[downloaded_impression_pixel]','text:cta_in_new_window':'[text:cta_in_new_window]',dfp_url:'[dfp_url]',cta_prefix_url:'[cta_prefix_url]','cta:default':'[cta:default]','text:banner_z_index':'[text:banner_z_index]','text:banner_top_offset':'[text:banner_top_offset]','text:banner_bottom_offset':'[text:banner_bottom_offset]','text:scale':'[text:scale]','text:expand_scale':'[text:expand_scale]','text:max_width':'[text:max_width]','text:embedded':'[text:embedded]','text:logo_background_color':'[text:logo_background_color]','text:logo_horizontal_alignment':'[text:logo_horizontal_alignment]','text:logo_vertical_alignment':'[text:logo_vertical_alignment]','image:container_background':'[image:container_background]','text:container_background_horizontal_alignment':'[text:container_background_horizontal_alignment]',enableClipPath:!0,enableLogo:!0,enableImpression:!0,'text:banner_ratio':'[text:banner_ratio]',enableExpand:!1,disableCta:!1,onresize:[],onprepared:[],onctaclicked:[],onPanMoveUp:[],onexpanded:[],oncloseexpanded:[]}}}]),a(e,[{key:'initData',value:function(e){var n=e.el,t=e.bannerRatio,i=void 0,a=void 0,r=void 0;try{i=n.getBoundingClientRect().width,r=+t.split(':')[1]/+t.split(':')[0],a=i*r}catch(e){console.log(e),i=n.getBoundingClientRect().width,r=5/32,a=i*r}return o({},e,{elWidth:i,elHeight:a,viewHeight:window.innerHeight||document.documentElement.clientHeight,bannerHeight:a,bannerHeightRate:r})}},{key:'init',value:function(){function e(e,n){e.addEventListener('click',n)}function n(e,n){e.removeEventListener('click',n)}function t(e,n,t){var i={};return e.forEach(function(e,o){i=e[n]==t?e:i}),i}function o(e){e=e.replace('[timestamp]',Date.now());var n=document.createElement('img');n.src=e,n.style.display='none',document.body.appendChild(n)}function a(){if(window.$sf&&window.$sf.ext&&window.$sf.ext.geom&&'function'==typeof window.$sf.ext.geom&&'object'===i(window.$sf.ext.geom()))return window.$sf.ext.geom()}var r=this;Date.now();r.doSimpleCustomTracking=function(e,n){n=n||{};var i=t(_,'event','custom');if(i.event){var a=i.url;a=a+'&eventSubtype='+encodeURIComponent(e),a=a+'&eventDetails='+encodeURIComponent(JSON.stringify(n)),a=n.eventValue?a+'&eventValue='+encodeURIComponent(n.eventValue):a,o(a)}},r.doAcceptInvitationTracking=function(){r.doSimpleCustomTracking('testNewTracking',{eventValue:1})};var c=''+r.config['text:scale'],l=isNaN(c)||0===c.length?1:+c,d=r.adContainerView,g=r.overlayView,s=''+r.config['text:cta_in_new_window']=='true',f=function(e){if(e.target.id=='vmfive-volume-btn-'+r.config.request_id||e.target.id=='vmfive-logo-'+r.config.request_id)return!1;var n=''+r.config.dfp_url+r.config.cta_prefix_url+'&url='+r.config['cta:default'],t=r.config.onctaclicked&&Array.isArray(r.config.onctaclicked)?r.config.onctaclicked:[];r.callback(t,{e:e}),r.config.disableCta||(s?window.open(n,'_blank'):window.top.location.href=n)};r.onCtaClicked=f,r.config.enableExpand?(r.expandAd=function(t){if(t.target.id=='vmfive-volume-btn-'+r.config.request_id)return!1;n(d,r.expandAd),g.classList.add('expanded'),d.classList.add('expanded'),r.doAcceptInvitationTracking(),e(d,f);var i=r.config.onexpanded&&Array.isArray(r.config.onexpanded)?r.config.onexpanded:[];r.callback(i,{e:t})},e(d,r.expandAd)):e(d,f);var u=r.data.bannerHeightRate,p="(100vw - 0px)*"+l,h="("+p+")*"+u;d.style.width="calc("+p+")",d.style.height="calc("+h+")";var v=''+r.config['text:max_width'],m=isNaN(v)||0===v.length?424:+v,x=m*this.data.bannerHeightRate;d.style.maxWidth=m+'px',d.style.maxHeight=x+'px',r.config.enableClipPath||d.classList.add('noclippath');var _=[];try{_=JSON.parse(r.config.track_url)}catch(e){console.log(e)}r.doImpression=function(){var e=document.querySelector('#vmfive-ad-unit-container-'+r.config.request_id),n=e.parentElement.parentElement.getAttribute('dfp-imp');n&&0!=n.length&&o(n);for(var t=0;t<_.length;t++){var i=_[t];if(i&&'impression'===i.event){o(i.url)}}},r.callback=function(e,n){e.forEach(function(e){'function'==typeof e&&e(r,n)})};var b=setInterval(function(){var e=!1;if(a())try{e|=window.$sf.ext.inViewPercentage()>0}catch(e){console.log(e)}else r.adContainerView&&(e=r.adContainerView.getBoundingClientRect().top<window.innerHeight);e&&r.config.enableImpression&&(r.doImpression(),clearInterval(b))},200),y=$(r.adContainerView);y.hammer().on('pan panup',function(e){switch(e.type){case'panup':if(e.gesture.deltaY<-4){var n=r.config.onPanMoveUp&&Array.isArray(r.config.onPanMoveUp)?r.config.onPanMoveUp:[];r.callback(n)}}}),y.data('hammer').get('pan').set({direction:Hammer.DIRECTION_VERTICAL});var w=''+r.config['text:embedded']=='true',k=''+r.config['text:banner_top_offset'],A=isNaN(k)||0===k.length?'unset':+k,q=''+r.config['text:banner_bottom_offset'],C=isNaN(q)||0===q.length?0:+q;w&&(r.overlayView.style.position='unset'),r.overlayView.style.top=A+'px',isNaN(A)?r.overlayView.style.bottom=C+'px':(r.overlayView.style.bottom='unset',r.isModeBannerTop=!0),r.overlayView.style.visibility='unset',function(e){return r.rootView.querySelector('#'+e)}('vmfive-logo-'+r.config.request_id).style.display=r.config.enableLogo?'block':'none',(r.config.onprepared&&Array.isArray(r.config.onprepared)?r.config.onprepared:[]).forEach(function(e){'function'==typeof e&&e(r)}),r.unexpandedWH.width=d.style.width,r.unexpandedWH.height=d.style.height,r.unexpandedWH.maxWidth=d.style.maxWidth,r.unexpandedWH.maxHeight=d.style.maxHeight}},{key:'closeExpand',value:function(){function e(e,n){e.addEventListener('click',n)}var n=this,t=n.adContainerView;!function(e,n){e.removeEventListener('click',n)}(t,n.onCtaClicked),n.overlayView.style.height='auto',t.style.width=n.unexpandedWH.width,t.style.height=n.unexpandedWH.height,t.style.maxWidth=n.unexpandedWH.maxWidth,t.style.maxHeight=n.unexpandedWH.maxHeight,setTimeout(function(){e(t,n.expandAd)},0)}},{key:'baseTemplate',get:function(){var e=this;return'\n  <div id="vmfive-overlay-'+e.config.request_id+'">\n    <div id="vmfive-ad-container-'+e.config.request_id+'">\n      <div id="vmfive-video-outer-'+e.config.request_id+'"></div>\n      <div id="vmfive-container-background-'+e.config.request_id+'">\n        <img src="'+e.config['image:container_background']+'">\n      </div>\n      <div id="vmfive-logo-'+e.config.request_id+'" class="vmfive-info-image" onclick="window.open(\'https://vmfive.com/?utm_source=vmfive_ad_logo\', \'_blank\')"></div>\n      <div id="vmfive-pointer-'+e.config.request_id+'"><img src="https://ad-demo.vmfive.com/demos/showcase/20190920/resource/1001/arrow.png"></div>\n    </div>\n  </div>\n  <img src="'+e.config.downloaded_pixel+'" style="display:none;">\n  \n  <style>\n  #vmfive-overlay-'+e.config.request_id+' {\n    position:fixed;\n    bottom:0;\n    right:0;\n    left:0;\n    z-index: '+e.config.bannerZIndex+';\n    visibility:hidden;\n  \n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  #vmfive-overlay-'+e.config.request_id+'.expanded {\n    height: 100vh;\n    width: 100vw;\n  \n    background-color:rgba(0, 0, 0, 0.7);\n  \n    -webkit-animation: expandAnimation 0.1s ease forwards;\n    animation: expandAnimation 0.1s ease forwards;\n  }\n  @-webkit-keyframes expandAnimation {\n    0% {\n      background-color:rgba(0, 0, 0, 0);\n    }\n    90% {\n      height: 100vh;\n      background-color:rgba(0, 0, 0, 0);\n    }\n    100% {\n      height: 100vh;\n      background-color:rgba(0, 0, 0, 0.7);\n    }\n  }\n  @keyframes expandAnimation {\n    0% {\n      background-color:rgba(0, 0, 0, 0);\n    }\n    90% {\n      height: 100vh;\n      background-color:rgba(0, 0, 0, 0);\n    }\n    100% {\n      height: 100vh;\n      background-color:rgba(0, 0, 0, 0.7);\n    }\n  }\n  #vmfive-ad-container-'+e.config.request_id+' {\n    clip-path: inset(1px);\n    -webkit-clip-path: inset(1px);\n  \n    position: relative;\n  \n    display: flex;\n    align-items: center;\n  \n    justify-content: center;\n  }\n  #vmfive-ad-container-'+e.config.request_id+'.expanded {\n    max-height: calc(100% * '+e.config.expandScale+') !important;\n    max-width: calc(100% * '+e.config.expandScale+') !important;\n    height: calc(100% * '+e.config.expandScale+') !important;\n    width: calc(100% * '+e.config.expandScale+') !important;\n  }\n  #vmfive-ad-container-'+e.config.request_id+'.noclippath {\n    clip-path: unset;\n    -webkit-clip-path: unset;\n  }\n  #vmfive-video-outer-'+e.config.request_id+' {\n      width: 50%;\n      position: absolute;\n      display: flex;\n      '+e.config.containerBackgroundHorizontalAlignment+': 0;\n      align-items: center;\n  }\n  #vmfive-container-background-'+e.config.request_id+' {\n    display: flex;\n    width: 100%;\n    height: 100%;\n  }\n  #vmfive-container-background-'+e.config.request_id+' img {\n    width: 100%;\n  }\n  #vmfive-overlay-'+e.config.request_id+' .vmfive-info-image {\n    position:absolute;z-index:100;\n    background-size:20px 20px;background-repeat:no-repeat;background-position:center;\n    cursor:pointer;\n  }\n  #vmfive-logo-'+e.config.request_id+' {\n    background-image:url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAlCAYAAADFniADAAAC7UlEQVRYhc3YT4iVVRjH8c+9zpgoLcxFY2gRSX8sNIZcFO2ENIxI3NkqEIkIN20MFzXQtk1MiySF2kuoURYKgiBGEEXin0UkzUAY0kCpqeN4Wpx7mTvPe/+8770XZ36bl+fhvOd8z3nOOc/zvrWUEmzBu3gKNfdfCZcxOTEx8WMtpbQFn6C+CDBR97CvllL6Ak8vNk2LLtVSSucsTsg6KdUNB2gGZ/D3EPqqjQyhkym8hX/xIL7EI4N0OIzNfaIBpPH8dtAOhwF1Pdj/DNphGahb8n6ZGnCsKZxWnERBvfbUDPZgGsvwMV7sA+gc3sNdrMVhPNSpcbeVSvigAQRz+LoPIDjWAII/caDRf2WoY/gh+J7sEypezj/hSFWo2zgYfM/izT6hduO54Pu8MU5pqFO41mKPYkLvPdhJI433R1t8M/iuClS8a17D+j6BmlqHbcH3fVmoOfwSfK8PCNTUzmD/jDtloH6zMNYr8cyQoDbKqaipWVwpAxWT6uO6J+0Hgr2iS9u6Yl68WgbqZo9Bo142D13HSz3arwp24QS2O00rgx0hozbhM5zFC9jco/1ssAuTbge1JtjTcpna7aLdXAKmqSvBHosN2g30hIX74joulhywly6ZL3NgOR4rA1VXnPVXQ4I6HuxNMlhPKHg12Cfwx4BA0zgafPEy7Qq1Fatb7Fk5TcRNWlZ38WF4fzW2V4Fajr3Bdx7vmy9BqgAdwK/Bv0eb0HWDgjcwHnxnZNiyoZzG23LF2apx7Or0Ui2lFGumVl2Tv1T+Cv5R7JBz4kYLb/yEC3JBeFwx5GNy5RmvntJQ5Nm+o006aGiVfKxX4D95FW90aDuGT+WKoaPKQJHz4X7F6qGKxvGRLitUFYocliM4pNqX8Bp5U+9U8mu8ClRTd/ANTsorV6iH5FP1PF6R76K2p2yYUK2aw+/yyt2Sc+nDeNTC0reSRuSw9PuTYxk29Dt4B6W6/AdtKelyHZNyabIUdA+TtaX4z/N/WVG1ilVDUhAAAAAASUVORK5CYII=\');\n    display:none;\n    bottom:0;right:0;\n    '+e.config.logoHorizontalAlignment+':0;\n    '+e.config.logoVerticalAlignment+':0;\n    width:18px;height:18px;\n    background-color: '+e.config.logoBgColor+';\n  }\n  #vmfive-pointer-'+e.config.request_id+' {\n    position: absolute;\n    width: 24px;\n    top: -20px;\n    right: calc(50% - 12px);\n    z-index: 5\n  }\n  #vmfive-pointer-'+e.config.request_id+'.hide {\n    display: none;\n  }\n  #vmfive-pointer-'+e.config.request_id+' img {\n    width: 100%;\n  }\n  </style>\n      '}}]),e}();try{e.exports=r}catch(e){}}]);
            var Brochure=function(t){function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,'a',e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="/dist/adformats",n(n.s=0)}([function(module,exports){function _toConsumableArray(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var _extends=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},_createClass=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),Brochure=function(){function Brochure(t){_classCallCheck(this,Brochure);var n=this;if(this.defaultConfig=this.constructor.getDefaultConfig(t),this.config=_extends({},this.defaultConfig,t),this.autoplayString=''+this.config['text:autoplay']=='true',this.config.ctaMode=this.config.ctaMode,this.config.el='string'==typeof this.config.el?document.querySelector(this.config.el):this.config.el,null===this.config.el)throw new Error('Something wrong with your el param');this.initData(this.config),this.magazineGotReady=!1,this.config.el.insertAdjacentHTML('beforeend',this.template),this.rootView=this.config.el,this.overlayView=this.rootView.querySelector('#vmfive-overlay-'+n.config.request_id),this.admagazine=this.rootView.querySelector('.magazine'),this.adPointer=this.rootView.querySelector('#vmfive-pointer-'+n.config.request_id),this.init()}return _createClass(Brochure,null,[{key:'getDefaultConfig',value:function(t){t=t||{};var n=t.request_id&&''!=t.request_id.trim()?t.request_id:'[request_id]';return{el:'#vmfive-ad-unit-container-'+n,request_id:n,track_url:'[track_url]',downloaded_pixel:'[downloaded_pixel]','text:cta_in_new_window':'[text:cta_in_new_window]',dfp_url:'[dfp_url]',cta_prefix_url:'[cta_prefix_url]','cta:default':'[cta:default]','cta:pan_view':'[cta:pan_view]','text:3rd_party_track_url':'[text:3rd_party_track_url]',medias:'[{},{},{},{}]',disableCta:!1}}}]),_createClass(Brochure,[{key:'initData',value:function(t){var n=this,e=t.medias;try{var i=[];try{i=JSON.parse(e),i=void 0!=i&&Array.isArray(i)?i:[]}catch(t){console.log(t)}var a=window.innerWidth,r=void 0,o=new Image;o.addEventListener("load",function(){r=this.naturalWidth/this.naturalHeight,n.magazineWidth=Math.round(.95*a),n.magazineHeight=Math.round(.95*a/r),n.magazineGotReady=!0}),o.src=i[0].image}catch(t){n.magazineWidth=360,n.addElClickEventmagazineHeight=240}}},{key:'init',value:function init(){function appendEventDetails(t,n){return t=t+'&eventDetails='+encodeURIComponent(JSON.stringify(n))}function appendResInfo(t,n,e,i){return appendEventDetails(t,{index:n,type:e,event:i})}function doImpression(t){for(var n=JSON.stringify(trackingList),e=JSON.parse(n),i=0;i<e.length;i++){var a=e[i];a.url=appendResInfo(a.url,t,'FlyerSide',a.event),a&&'impression'===a.event&&(a.url=a.url.replace('event=impression','event=custom'),doTracking(a.url))}}function regionClick(t){console.log('regionClick');var n=$(t.target);if(n.hasClass('region')){$('.magazine-viewport').data().regionClicked=!0,setTimeout(function(){$('.magazine-viewport').data().regionClicked=!1},100);var e=$.trim(n.attr('class').replace('region',''));return processRegion(n,e)}}function loadApp(){$('#canvas').fadeIn(1e3);var t=$('.magazine');if(!self.magazineGotReady)return void setTimeout(loadApp,10);self.config.el.insertAdjacentHTML('beforeend',self.templateCSS),t.turn({width:self.magazineWidth,height:self.magazineHeight,duration:1e3,gradients:!0,autoCenter:!0,elevation:50,pages:8,when:{start:function(t,n,e){n.cornerSize=150},turned:function(t,n,e){$(this).turn('peel','br')}}}),t.turn('display','single'),$.isTouch?$('.magazine').bind('touchstart',regionClick):$('.magazine').click(regionClick),$('.magazine').addClass('animated'),t.bind("turned",function(t,n,e){if(8===n){var i=''+self.config.dfp_url+self.config.cta_prefix_url+'&url='+self.config['cta:pan_view'];ctaInNewWindow?window.open(i,'_blank'):window.top.location.href=i}}),setTimeout(function(){t.turn('peel','br')},1500)}function getTrackingList(t){var n=[];try{n=JSON.parse(t)}catch(t){console.log(t)}return n}function get3rdPartyTrackingList(){var thirdPartyTrackUrl='',thirdPartyTrackUrlStr='',thirdPartyTrackigList=[];try{thirdPartyTrackUrlStr=eval(self.config['text:3rd_party_track_url']+"''"),thirdPartyTrackUrl='['+thirdPartyTrackUrlStr+"null]",thirdPartyTrackigList=JSON.parse(thirdPartyTrackUrl),thirdPartyTrackigList.pop()}catch(t){console.log(t)}return thirdPartyTrackigList}function doTracking(t){t=t.replace('[timestamp]',Date.now());var n=new XMLHttpRequest;n.open('GET',t,!0),n.send()}function getCtaPrefix(){return''+self.config.dfp_url+self.config.cta_prefix_url+'&url='}function getCtaURL(){return''+self.config['cta:default']}function getDynamicInfoURL(){return''+self.config['text:dynamic_info']}function getFullCtaURL(){return getCtaPrefix()+getCtaURL()}function getFullBannerCtaURL(){var t=''+self.config['cta:banner'];return''===t?getFullCtaURL():getCtaPrefix()+t}function generateOnCtaClickedByResInfo(t,n){return function(e){var i=flyerList[t].ctaURL;i=i&&''!==i.trim()?ctaPrefix+i:getFullCtaURL();appendResInfo(i,t,n,'click');(self.config.onctaclicked&&Array.isArray(self.config.onctaclicked)?self.config.onctaclicked:[]).forEach(function(i){'function'==typeof i&&i(self,{e:e,index:t,type:n})})}}function addElClickEvent(t,n){t.addEventListener('click',n)}function setClickEventToEl(t){addElClickEvent(t,onCtaClicked)}var self=this,vmfiveAdMagazine=this.admagazine,vmfiveAdPointer=this.adPointer,ctaInNewWindow=''+self.config['text:cta_in_new_window']=='true',isAnyOnPrepared=!1,overPositionToImpression=!1,flyerList=[],delayInitList=[],noVideoItem=!0,mediaList=[];try{mediaList=JSON.parse(self.config.medias),mediaList=void 0!=mediaList&&Array.isArray(mediaList)?mediaList:[]}catch(t){console.log(t)}mediaList.forEach(function(t,n){var e=document.createElement("section");e.id='main-'+(n+1)+'-'+self.config.request_id,e.innerHTML="";var i=document.createElement("div");i.className="gradient";var a=document.createElement("img");a.src=t.image,e.appendChild(i),e.appendChild(a),self.admagazine.appendChild(e),self.config.disableCta||addElClickEvent(a,generateOnCtaClickedByResInfo(n,'image'))}),$('#canvas').hide(),loadApp();var trackings=''+self.config.track_url,thirdPartyTrackingList=get3rdPartyTrackingList();if(thirdPartyTrackingList.length>0){var _trackingList=[].concat(_toConsumableArray(getTrackingList(trackings)),_toConsumableArray(thirdPartyTrackingList));trackings=JSON.stringify(_trackingList)}var width=0,height=0,trackingList=[];try{trackingList=JSON.parse(self.config.track_url)}catch(t){console.log(t)}var ctaPrefix=''+self.config.dfp_url+self.config.cta_prefix_url+'&url=',onCtaClicked=function(t){self.config.dfp_url,self.config.cta_prefix_url,self.config['cta:default'];(self.config.onctaclicked&&Array.isArray(self.config.onctaclicked)?self.config.onctaclicked:[]).forEach(function(n){'function'==typeof n&&n(self,{e:t})})}}},{key:'template',get:function(){var t=this;return'\n      <div id="vmfive-overlay-'+t.config.request_id+'">\n\t\t<div id="canvas">\n\t\t\t<div class="magazine-viewport">\n\t\t\t\t<div class="container">\n\t\t\t\t\t<div class="magazine">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n      </div>\n      <img src="'+t.config.downloaded_pixel+'" style="display:none;">\n  \n\t  <style>\n\t#vmfive-overlay-'+t.config.request_id+' {\n\t\tposition:fixed;\n\t\ttop:0;\n\t\tleft:0;\n\t\tbottom:0;\n\t\tright:0;\n\t\tmargin: auto;\n\t\tz-index: 9999999;\n\t}\n      </style>\n      '}},{key:'templateCSS',get:function(){var t=this;return'\n        <style>\n    .magazine-viewport .container{\n\t\tposition:absolute;\n\t\ttop:50%;\n\t\tleft:50%;\n\t\twidth:'+t.magazineWidth+'px;\n\t\theight:'+t.magazineHeight+'px;\n\t\tmargin:auto;\n\t}\n\t\n\t.magazine-viewport .magazine{\n\t\twidth:'+t.magazineWidth+'px;\n\t\theight:'+t.magazineHeight+'px;\n\t\tleft:-'+t.magazineWidth/2+'px;\n\t\ttop:-'+t.magazineHeight/2+'px;\n\t}\n\t\n\t.magazine-viewport .page{\n\t\twidth:'+t.magazineWidth/2+'px;\n\t\theight:'+t.magazineHeight+'px;\n\t\tbackground-color:white;\n\t\tbackground-repeat:no-repeat;\n\t\tbackground-size:100% 100%;\n\t}\n\n\t.magazine img {\n\t\twidth: 100%;\n\t\theight: auto;\n\t}\n\t\n\t.magazine .region{\n\t\tposition:absolute;\n\t\toverflow:hidden;\n\t\tbackground:#0066FF;\n\t\topacity:0.2;\n\t\t-webkit-border-radius:10px;\n\t\t-moz-border-radius:10px;\n\t\t-ms-border-radius:10px;\n\t\t-o-border-radius:10px;\n\t\tborder-radius:10px;\n\t\tcursor:pointer;\n\t\t-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";\n\t\tfilter: alpha(opacity=20);\n\t}\n\t\n\t.magazine .region:hover{\n\t\topacity:0.5;\n\t\t-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n\t\tfilter: alpha(opacity=50);\n\t}\n\t\n\t.magazine .page{\n\t\t-webkit-box-shadow:0 0 20px rgba(0,0,0,0.2);\n\t\t-moz-box-shadow:0 0 20px rgba(0,0,0,0.2);\n\t\t-ms-box-shadow:0 0 20px rgba(0,0,0,0.2);\n\t\t-o-box-shadow:0 0 20px rgba(0,0,0,0.2);\n\t\tbox-shadow:0 0 20px rgba(0,0,0,0.2);\n\t}\n\t\n\t.magazine-viewport .page img{\n\t\t-webkit-touch-callout: none;\n\t\t-webkit-user-select: none;\n\t\t-khtml-user-select: none;\n\t\t-moz-user-select: none;\n\t\t-ms-user-select: none;\n\t\tuser-select: none;\n\t\tmargin:0;\n\t}\n\t\n\t.magazine .even .gradient{\n\t\tposition:absolute;\n\t\ttop:0;\n\t\tleft:0;\n\t\twidth:100%;\n\t\theight:100%;\n\t\n\t\tbackground:-webkit-gradient(linear, left top, right top, color-stop(0.95, rgba(0,0,0,0)), color-stop(1, rgba(0,0,0,0.2)));\n\t\tbackground-image:-webkit-linear-gradient(left, rgba(0,0,0,0) 95%, rgba(0,0,0,0.2) 100%);\n\t\tbackground-image:-moz-linear-gradient(left, rgba(0,0,0,0) 95%, rgba(0,0,0,0.2) 100%);\n\t\tbackground-image:-ms-linear-gradient(left, rgba(0,0,0,0) 95%, rgba(0,0,0,0.2) 100%);\n\t\tbackground-image:-o-linear-gradient(left, rgba(0,0,0,0) 95%, rgba(0,0,0,0.2) 100%);\n\t\tbackground-image:linear-gradient(left, rgba(0,0,0,0) 95%, rgba(0,0,0,0.2) 100%);\n\t}\n\t\n\t.magazine .odd .gradient{\n\t\tposition:absolute;\n\t\ttop:0;\n\t\tleft:0;\n\t\twidth:100%;\n\t\theight:100%;\n\t\n\t\tbackground:-webkit-gradient(linear, right top, left top, color-stop(0.95, rgba(0,0,0,0)), color-stop(1, rgba(0,0,0,0.15)));\n\t\tbackground-image:-webkit-linear-gradient(right, rgba(0,0,0,0) 95%, rgba(0,0,0,0.15) 100%);\n\t\tbackground-image:-moz-linear-gradient(right, rgba(0,0,0,0) 95%, rgba(0,0,0,0.15) 100%);\n\t\tbackground-image:-ms-linear-gradient(right, rgba(0,0,0,0) 95%, rgba(0,0,0,0.15) 100%);\n\t\tbackground-image:-o-linear-gradient(right, rgba(0,0,0,0) 95%, rgba(0,0,0,0.15) 100%);\n\t\tbackground-image:linear-gradient(right, rgba(0,0,0,0) 95%, rgba(0,0,0,0.15) 100%);\n\t}\n\t\n\t.magazine-viewport .shadow{\n\t\t-webkit-transition: -webkit-box-shadow 0.5s;\n\t\t-moz-transition: -moz-box-shadow 0.5s;\n\t\t-o-transition: -webkit-box-shadow 0.5s;\n\t\t-ms-transition: -ms-box-shadow 0.5s;\n\t\n\t\t-webkit-box-shadow:0 0 20px #ccc;\n\t\t-moz-box-shadow:0 0 20px #ccc;\n\t\t-o-box-shadow:0 0 20px #ccc;\n\t\t-ms-box-shadow:0 0 20px #ccc;\n\t\tbox-shadow:0 0 20px #ccc;\n\t}\n\t\n\t.animated{\n\t\t-webkit-transition:margin-left 0.5s;\n\t\t-moz-transition:margin-left 0.5s;\n\t\t-ms-transition:margin-left 0.5s;\n\t\t-o-transition:margin-left 0.5s;\n\t\ttransition:margin-left 0.5s;\n\t}\n\t\n\t.bottom{\n\t\tposition:absolute;\n\t\tleft:0;\n\t\tbottom:0;\n\t\twidth:100%;\n\t}\n      </style>\n      '}}]),Brochure}();try{module.exports=Brochure}catch(t){}}]);
            let template = new TemplateBuilder({
                cdn: 'https://d2v4tz4zvhrua.cloudfront.net/production/dist/2019-09-17-1568688808685',
                plugins: [
                ],
                adformats: [

                ],
                components: [
                    'ExpandHelper', 'CloseButton'
                ],
                develop: false,
                showCreateButton: false,
                BaseAdUnit: [
                    function (self) {
                        return {
                            adformatName: 'BannerContainerBackground',
                            refName: 'vmfiveAdUnitContainer',
                            option: {
                                el: '#vmfive-ad-unit-container-55667788',
                                videoBorderRadius: 0,
                                enableClipPath: false,
                                enableImpression: false,
                                disableCta: true
                            },
                            demoOption: {
                                'downloaded_pixel': 'https://vaser-track.vm5apis.com/v2/track?requestId=&event=downloaded&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0',
                                'text:cta_in_new_window': '',
                                'dfp_url': '',
                                'cta_prefix_url': 'https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=click',
                                'cta:default': 'https://vmfive.com/?utm_source=vmfive_ad_cta',
                                'text:banner_bottom_offset': `0`,
                                'text:scale': `1`,
                                'text:close_button_horizontal_alignment': 'left',
                                'text:background_color': 'rgba(0,0,0,0.7)',
                                'text:banner_ratio': '7:3',
                                'image:container_background': 'https://ad-demo.vmfive.com/demos/showcase/20190920/resource/banner.jpg',
                                'text:container_background_horizontal_alignment': '',
                            }
                        };
                    },
                    function (self) {
                        return {
                            adformatName: 'Brochure',
                            refName: 'Brochure',
                            option: {
                                el: '#vmfive-ad-unit-container-[request_id]-expand',
                                'request_id': '[request_id]-expand',
                                videoScale: '16:9',
                            },
                            demoOption: {
                                'cta:default': `https://www.skm.com.tw/`,
                                'cta:pan_view': 'https://www.skm.com.tw/',
                                'text:3rd_party_track_url': '',
                                'dfp_url': ``,
                                medias:
                                '['+
                                '{"image": "https://ad-demo.vmfive.com/demos/showcase/20190920/resource/1001/page1.png"},'+
                                '{"image": "https://ad-demo.vmfive.com/demos/showcase/20190920/resource/1001/page2.png"},'+
                                '{"image": "https://ad-demo.vmfive.com/demos/showcase/20190920/resource/1001/page3.png"},'+
                                '{"image": "https://ad-demo.vmfive.com/demos/showcase/20190920/resource/1001/page4.png"},'+
                                '{"image": "https://ad-demo.vmfive.com/demos/showcase/20190920/resource/1001/page5.png"},'+
                                '{"image": "https://ad-demo.vmfive.com/demos/showcase/20190920/resource/1001/page6.png"},'+
                                '{"image": "https://ad-demo.vmfive.com/demos/showcase/20190920/resource/1001/page7.png"},'+
                                '{"image": "https://ad-demo.vmfive.com/demos/showcase/20190920/resource/1001/page8.png"}'+
                                ']',
                            }
                        }
                    },
                ],
                OnBaseAdUnitPrepared: [
                    function (self) {
                        return {
                            componentName: 'CloseButton',
                            refName: 'CloseButton',
                            option: {
                                el: self.refs['vmfiveAdUnitContainer'].adContainerView,
                                enableExpand: true,
                                onclosed: [
                                    function() {
                                        // clearInterval(self.refs['Brochure'].setIntervalCheckPage4Viewability);
                                    }
                                ],
                            },
                            demoOption: {
                                'text:close_button_horizontal_alignment': 'left',
                                'text:beautify_percent': '80'
                            }
                        }
                    },
                    function (self) {
                        return {
                            componentName: 'CloseButton',
                            refName: 'CloseButtonBrochure',
                            option: {
                                el: self.refs['Brochure'].overlayView,
                                'request_id': '[request_id]-expand',
                                onExpandHelperClose: [
                                    function (comp) {
                                        self.refs['ExpandHelper'].expandedVisible('hide');
                                        self.refs['ExpandHelper'].originalVisible('show');
                                    }
                                ],
                            },
                            demoOption: {
                                'text:close_button_horizontal_alignment': 'right',
                                'text:beautify_percent': '80',
                            }
                        }
                    },
                    function (self) {
                        return {
                            componentName: 'ExpandHelper',
                            refName: 'ExpandHelper',
                            option: {
                                'track_url': '[track_url]',
                                original: self.refs['vmfiveAdUnitContainer'],
                                expanded: self.refs['Brochure'],
                                showExpandButton: false,
                                onprepared: [
                                    function (comp) {
                                        console.log('expand is work');
                                        comp.expandedVisible('hide');
                                        comp.originalVisible('show');
                                    }
                                ]
                            },
                            demoOption: {
                                'text:expand_button_horizontal_alignment': '',
                            }
                        }
                    },
                    function (self) {
                        self.refs['vmfiveAdUnitContainer'].config.onctaclicked = [
                            function () {
                                self.refs['ExpandHelper'].expandedVisible('show');
                                self.refs['ExpandHelper'].originalVisible('hide');
                            }
                        ];
                        self.refs['vmfiveAdUnitContainer'].config.onPanMoveUp = [
                            function () {
                                self.refs['ExpandHelper'].expandedVisible('show');
                                self.refs['ExpandHelper'].originalVisible('hide');
                            }
                        ];
                    }
                ]
            });
        </script>
    </div>
</body>

</html>