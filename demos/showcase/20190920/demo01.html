<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>VMFive ADN Web SDK Demo</title>
    <meta name="viewport"
        content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
    <style>
        body {
            font-family: sans-serif;
        }

        body {
            margin: 0;
            padding: 0;
        }

        .page-container {
            width: 90%;
            max-width: 500px;
            margin: 10px auto;
        }
    </style>
</head>

<body>
    <div class="page-container">
        <h2>第五代虛擬科技／技術起家 橫跨五大領域</h2>
        <h4>經濟日報 記者馬瑞璿／台北報導</h4>

        <p>第五代虛擬科技（VMFive）以互動遊戲廣告技術起家，後又以原生影音廣告為業務主力，以技術層面分析，互動遊戲廣告技術所需技術含量較高，整體技術需橫跨虛擬化、雲端、串流、跨平台、大數據等五領域，這也是VMFive命名由來。
        </p>
        <p>為什麼互動遊戲廣告需要的技術含量高？VMFive旗下的AdPlay主攻行動互動遊戲市場，行動市場必須考量連線能力、處理器架構與各廠牌手機繪圖能力，因此，主要技術領域集中在串流、虛擬化與跨平台三大領域。</p>
        <p>VMFive創辦人暨執行長丁俊宏表示，AdPlay串流到各個網址，可以在PC、NB、手機、平板等各類裝置上使用這個App。然而，這個串流體驗必須相當即時，因為所有的點擊都會在雲端上進行運算，必須在100-200毫秒內完成人機互動，這考驗著串流能力；而雲端也必須模擬手機處理器架構。目前手機處理器架構都是以ARM為主，要雲端來運算ARM架構也有些難度。此外，雖然App架設在雲端上，但最後連結的終端產品性能各有不同，必須因應不同設備去做解碼，甚至必須配合低階手機調整呈現品質，要在偵測用戶手機的同時，進行動態演算調節，在在都有技術難度。
        </p>
        <p>原生影音廣告技術含量就稍微低一些，丁俊宏表示，影音廣告著重串流、API（應用程式介面）、資料定向三大類技術，串流技術必須流暢才能降低延遲，並在不到1秒內的時間把廣告載入、完成串流，讓消費者觀看廣告，同時，也要提供API讓開發商組合成需要的格式，提升體驗效果，最後，也要在龐大的廣告資料裡面分析定向受眾，未來才能精準投遞目標客群。
        </p>

        <div id="vmfive-ad-unit-container-55667788"></div>
        <div id="vmfive-ad-unit-container-55667788-expand"></div>
        <h3>執行長丁俊宏 來場不一樣的創業</h3>

        <p>走進第五代虛擬科技（VMFive）位於南京東路上的辦公室，空間設計帶有淡淡的loft風卻讓人備感溫馨，創辦人暨執行長丁俊宏是七年級生，斯文的外表下卻帶有創業的堅定。他說，他想做點與別人不同的事。為什麼想要創業？他說，「我小時候就對科學家有憧憬，喜歡看愛因斯坦、愛迪生的故事，我也喜歡看科幻電影，喜歡回到未來、時光機的那種，創業對我來說是一種憧憬，可以做一些不一樣的事情、甚至作一些創新的東西」。
        </p>
        <p>在創立VMFive前，丁俊宏已經設立過二家公司，一家公司主要作行動應用開發，另外一家公司則是做壽險軟體；當時，壽險軟體獲得許多良好迴響，但丁俊宏希望自己可以做一點走向全球的事，於是，他決定把公司交給團隊夥伴經營，自己出來開設另外一家公司，VMFive於焉誕生。
        </p>
        <p>第五代虛擬科技團隊草創初期，一部分人在台北、一部分在新竹，有些人是學生、有些人是社會新鮮人，直到2014年才在台北設辦公室。「一開始，大家都沒經驗，只有我先前創立過別間公司、有一點的經驗，而且我又是CEO，所以大多以我的想法為主，創立初期，大家多少都會有意見相佐的時候，默契不見得這麼好，但到了營運中期之後，我慢慢授權經營團隊，讓大家自主發揮」，丁俊宏回憶道。
        </p>
        <p>丁俊宏設定三年內在亞太地區互動遊戲廣告市場闖出一片天，他對自家的技術相當有信心，現階段目標是讓VMFive把市場做大、做好，並希望這家公司可以永續經營。</p>
        <hr />
        <p>文章來源：<a href="https://money.udn.com/money/story/11150/2478372">經濟日報</a></p>

        <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
        <script src='https://npmcdn.com/flickity@2/dist/flickity.pkgd.js'></script>
        <script src='https://man.vm5apis.com/dist/hammer.js/2.0.8/hammer.min.js'></script>
        <script src='https://man.vm5apis.com/dist/jquery.hammerjs/2.0.0/jquery.hammer.js'></script>
        <script>
            var TemplateBuilder=function(e){function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,'a',t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="/dist/adformats",n(n.s=0)}([function(module,exports){function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},_createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),TemplateBuilder=function(){function TemplateBuilder(e){_classCallCheck(this,TemplateBuilder),this.defaultConfig={cdn:'https://d2v4tz4zvhrua.cloudfront.net/production/dist/2019-05-07-1557206750347',plugins:[],adformats:[],components:[],develop:!0,showCreateButton:!0,BaseAdUnit:[],OnBaseAdUnitPrepared:[],BaseFormatsCode:[],OnBaseComponentsCode:[]},this.config=_extends({},this.defaultConfig,e),this.refs={},this.init()}return _createClass(TemplateBuilder,[{key:'appendCdnScript',value:function(){var e=this,n=e.config.develop,t=n?'../src':e.config.cdn;e.config.plugins.forEach(function(e){var n=document.createElement("script");n.src=e,document.body.appendChild(n)}),e.config.adformats.forEach(function(e){e=n?e+'.js':e+'.min.js';var a=document.createElement("script");a.src=t+'/adformats/'+e,document.body.appendChild(a)}),e.config.components.forEach(function(e){e=n?e+'.js':e+'.min.js';var a=document.createElement("script");a.src=t+'/components/'+e,document.body.appendChild(a)})}},{key:'appendCustomJs',value:function appendCustomJs(){var self=this,sc=document.createElement("script");sc.src="https://d1v69ngg41pvl6.cloudfront.net/dist/MixPlayer.js",sc.onload=function(){var DynamicClass=function e(n,t){return _classCallCheck(this,e),new n(t)},fakeBannerContainerOption={request_id:'55667788',track_url:'[{"event":"view","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=view"},                {"event":"impression","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=impression"},                {"event":"video_percentage:0","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=video_percentage:0"},                {"event":"video_percentage:25","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=video_percentage:25"},                {"event":"video_percentage:50","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=video_percentage:50"},                {"event":"video_percentage:75","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=video_percentage:75"},                {"event":"video_percentage:100","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=video_percentage:100"},                {"event":"click","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=click"},                {"event":"close","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=close"},                {"event":"custom","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=custom"},                {"event":"replay","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=replay"}]',downloaded_pixel:'https://vaser-track.vm5apis.com/v2/track?requestId=&event=downloaded&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0',dfp_url:'',cta_prefix_url:'https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=click'},fakeInterstitialOption={el:'#vmfive-ad-unit-container-55667788',request_id:fakeBannerContainerOption.request_id,track_url:fakeBannerContainerOption.track_url,downloaded_pixel:fakeBannerContainerOption.downloaded_pixel},fakeEXPSNDOption=_defineProperty({el:'#vmfive-ad-unit-container-55667788-expand',request_id:fakeBannerContainerOption.request_id+'-expand',track_url:fakeBannerContainerOption.track_url,cta_prefix_url:fakeBannerContainerOption.cta_prefix_url,downloaded_pixel:fakeBannerContainerOption.downloaded_pixel,dfp_url:''},'cta_prefix_url','https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=click'),firstContainerName=void 0,isFirstContainer=!0,BaseAdUnitCallbacks=self.config.BaseAdUnit&&Array.isArray(self.config.BaseAdUnit)?self.config.BaseAdUnit:[];BaseAdUnitCallbacks.forEach(function(callback,index){var isAdformat=callback.toString().match(/adformatName(.*?),/g);isAdformat||(self.config.BaseFormatsCode.push({extraFunction:callback}),callback(self));var adUnitContainer=void 0;if('function'==typeof callback&&isAdformat){adUnitContainer=callback(self),self.config.BaseFormatsCode.push({adformatName:adUnitContainer.adformatName,refName:adUnitContainer.refName,option:_extends({},eval(adUnitContainer.adformatName).getDefaultConfig(),adUnitContainer.option)}),isFirstContainer&&(firstContainerName=adUnitContainer.refName,isFirstContainer=!1),adUnitContainer.demoOption=adUnitContainer.demoOption?adUnitContainer.demoOption:{};var currentOption=void 0;currentOption='BannerContainer'===adUnitContainer.refName||'BannerContainer2'===adUnitContainer.refName?_extends({},adUnitContainer.option,adUnitContainer.demoOption,fakeBannerContainerOption):'Interstitial'===adUnitContainer.refName&&0===index?_extends({},adUnitContainer.option,adUnitContainer.demoOption,fakeBannerContainerOption):'InterstitialStatic'===adUnitContainer.refName&&0===index?_extends({},adUnitContainer.option,adUnitContainer.demoOption,fakeBannerContainerOption):'Interstitial'===adUnitContainer.refName||'InterstitialStatic'===adUnitContainer.refName||'UprightAround'===adUnitContainer.refName||'Flyer'===adUnitContainer.refName?_extends({},adUnitContainer.option,adUnitContainer.demoOption,fakeEXPSNDOption):(adUnitContainer.refName,_extends({},adUnitContainer.option,adUnitContainer.demoOption,fakeBannerContainerOption)),self.refs[adUnitContainer.refName]=new DynamicClass(eval(adUnitContainer.adformatName),currentOption)}});var OnBaseAdUnitPreparedCallbacks=self.config.OnBaseAdUnitPrepared&&Array.isArray(self.config.OnBaseAdUnitPrepared)?self.config.OnBaseAdUnitPrepared:[];OnBaseAdUnitPreparedCallbacks.forEach(function(callback){var fakeComponentOption={request_id:self.refs[firstContainerName].config.request_id,track_url:self.refs[firstContainerName].config.track_url,downloaded_pixel:self.refs[firstContainerName].config.downloaded_pixel,dfp_url:self.refs[firstContainerName].config.dfp_url,cta_prefix_url:self.refs[firstContainerName].config.cta_prefix_url},isComponent=callback.toString().match(/componentName(.*?),/g);isComponent||(self.config.OnBaseComponentsCode.push({extraFunction:callback}),callback(self));var elToString=void 0,hasEl=callback.toString().match(/el:(.*?),/g);if(hasEl){var elUnCall=callback.toString().match(/el:(.*?),/g).toString();elToString=elUnCall.replace(/el: self\.refs\['/g,'').replace(/\']/g,'El').replace(/,/g,'')}var originalToString=void 0,expandedToString=void 0,isExpandHelper=callback.toString().match(/componentName: 'ExpandHelper'/g);if(isExpandHelper){var originalUnCall=callback.toString().match(/original:(.*?),/g).toString();originalToString=originalUnCall.replace(/original: self\.refs\['/g,'').replace(/\']/g,'El').replace(/,/g,'');var expandedUnCall=callback.toString().match(/expanded:(.*?),/g).toString();expandedToString=expandedUnCall.replace(/expanded: self\.refs\['/g,'').replace(/\']/g,'El').replace(/,/g,'')}if('function'==typeof callback&&isComponent){var item=callback(self),currentComOption=_extends({},item.option,item.demoOption,fakeComponentOption);hasEl&&(item.option.el=elToString),isExpandHelper&&(item.option.original=originalToString,item.option.expanded=expandedToString),self.config.OnBaseComponentsCode.push({componentName:item.componentName,refName:item.refName,option:_extends({},eval(item.componentName).getDefaultConfig(),item.option)}),self.refs[item.refName]=new DynamicClass(eval(item.componentName),currentComOption)}})},document.body.appendChild(sc)}},{key:'stringifyOption',value:function(e){return JSON.stringify(e,function(e,n){if('function'==typeof n){var t=n.toString();return t=t.replace(/\r\n/g,""),t=t.replace(/\n/g,""),'thisisforfunction'+(t=t.replace(/\s+/g," "))+'thisisforfunction'}return n})}},{key:'createTemplate',value:function(e,n,t){var a=this,i=a.config.cdn,r='';a.config.BaseFormatsCode.forEach(function(e,n){if(a.config.BaseFormatsCode[n].adformatName){var t=a.stringifyOption(a.config.BaseFormatsCode[n].option),i=t;i=i.replace(/\"el\":\"(.*?)\",/g,"el: '$1',thisForTitle"),i=i.replace(/,\"([^(\_|\:|\")"]+)\":/g,",thisForTitle$1:"),i=i.replace(/:\"\[\{(.*?)\}\]\"/g,":[{$1}]"),i=i.replace(/:\"([^(*)"]+)\",/g,":'$1',thisForTitle"),i=i.replace(/(thisisforfunction")|("thisisforfunction)/g,""),i=i.replace(/,(thisForTitle)+/g,",\n"),i=i.replace(/self\.refs\['(.*?)'\]/g,"$1El"),i=i.replace(/55667788/g,"[request_id]"),r=r+'let '+a.config.BaseFormatsCode[n].refName+'El = new '+a.config.BaseFormatsCode[n].adformatName+'('+i+');\n        '}else{var o=a.stringifyOption(a.config.BaseFormatsCode[n].extraFunction);o=o.replace(/("thisisforfunctionfunction\s*\(self\) \{)|(\}thisisforfunction")/g,""),o=o.replace(/self\.refs\['(.*?)'\]/g,"$1El"),r=r+o+'\n        '}});var o='';a.config.OnBaseComponentsCode.forEach(function(e,n){var t='\n        ';if(n===a.config.OnBaseComponentsCode.length-1&&(t=''),a.config.OnBaseComponentsCode[n].componentName){var i=a.stringifyOption(a.config.OnBaseComponentsCode[n].option),r=i;r=r.replace(/\"el\":\"(.*?)\",/g,"\"el\": $1,thisForTitle"),r=r.replace(/,\"([^(\_|\:|\")"]+)\":/g,",thisForTitle$1:"),r=r.replace(/{\"([^(\_|\:|\")"]+)\":/g,"{$1:"),r=r.replace(/:\"\[\{(.*?)\}\]\"/g,":[{$1}]"),r=r.replace(/:\"([^(*)"]+)\",/g,":'$1',thisForTitle"),r=r.replace(/(thisisforfunction")|("thisisforfunction)/g,""),r=r.replace(/,(thisForTitle)+/g,",\n"),r=r.replace(/self\.refs\['(.*?)'\]/g,"$1El"),'ExpandHelper'===a.config.OnBaseComponentsCode[n].componentName&&(r=r.replace(/original:\s*\"(.*?)\"/g,"original: $1"),r=r.replace(/original:\s*\'(.*?)\'/g,"original: $1"),r=r.replace(/expanded:\s*\"(.*?)\"/g,"expanded: $1"),r=r.replace(/expanded:\s*\'(.*?)\'/g,"expanded: $1")),r=r.replace(/\\/g,""),r=r.replace(/55667788/g,"[request_id]"),o=o+'let '+a.config.OnBaseComponentsCode[n].refName+'El = new '+a.config.OnBaseComponentsCode[n].componentName+'('+r+');'+t}else{var c=a.stringifyOption(a.config.OnBaseComponentsCode[n].extraFunction);c=c.replace(/("thisisforfunctionfunction\s*\(self\) \{)|(\}thisisforfunction")/g,""),c=c.replace(/self\.refs\['(.*?)'\]/g,"$1El"),o=o+c+t}});var c='<script>\n    let sc = document.createElement("script");\n    sc.src = "https://d1v69ngg41pvl6.cloudfront.net/dist/MixPlayer.js";\n    sc.onload = function () {\n        '+r+o+'\n    };\n    document.body.appendChild(sc);\n<\/script>';return function(t,i){var r='',o='';return r=a.config.BaseFormatsCode.length>=2&&a.refs.Interstitial?'<div id="vmfive-ad-unit-container-[request_id]"></div>\n<div id="vmfive-ad-unit-container-[request_id]-interstitial"></div>\n':'<div id="vmfive-ad-unit-container-[request_id]"></div>\n',e.forEach(function(e){o=o+'<script src=\''+e+'\'><\/script>\n'}),n.forEach(function(e){o=o+'<script src=\''+t+'/adformats/'+e+'.min.js\'><\/script>\n'}),i.forEach(function(e){o=o+'<script src=\''+t+'/components/'+e+'.min.js\'><\/script>\n'}),r+o+c}(i,t)}},{key:'createCreateButton',value:function(){function e(){template.created()}var n=document.createElement('div');n.setAttribute('style','position:fixed;top:50px;left:2px;background:red;color: #000;width:60px;height:30px;border-radius: 15px;line-height: 28px;text-align: center;cursor: pointer;'),n.innerHTML='Create',document.body.appendChild(n),n.addEventListener('click',e,!1)}},{key:'init',value:function(){var e=this;e.appendCdnScript(),setTimeout(function(){e.appendCustomJs()},1e3),e.config.showCreateButton&&e.createCreateButton()}},{key:'created',value:function(){var e=this.createTemplate(this.config.plugins,this.config.adformats,this.config.components);e=e.replace(/>/g,'&gt;'),e=e.replace(/</g,'&lt;');var n=null;n=window.open('demo-code.html','Demo code','height=800,width=800,scrollbars=yes'),n.document.write('<figure><pre><code class="language-pascal" style="display: inline-block;">'+e+'</code></pre></figure>')}}]),TemplateBuilder}();try{module.exports=TemplateBuilder}catch(e){}}]);
            var BannerContainerBackground=function(n){function e(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var t={};return e.m=n,e.c=t,e.d=function(n,t,i){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:i})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,'a',t),t},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="/dist/adformats",e(e.s=0)}([function(n,e){function t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},o=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},a=function(){function n(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),r=function(){function n(e){t(this,n);e.request_id&&''!=e.request_id.trim()&&e.request_id;this.defaultConfig=this.constructor.getDefaultConfig(e),this.config=o({},this.defaultConfig,e);var i=''+this.config['text:banner_z_index'];this.config.bannerZIndex=isNaN(i)||0===i.length?'1999999':+i,this.config.logoBgColor=0===this.config['text:logo_background_color'].length?'transparent':this.config['text:logo_background_color'],this.config.bannerRatio=0===this.config['text:banner_ratio'].length?'32:10':this.config['text:banner_ratio'];var a=''+this.config['text:expand_scale'];if(this.config.expandScale=isNaN(a)||0===a.length?1:+a,this.config.logoHorizontalAlignment=0===this.config['text:logo_horizontal_alignment'].length?'right':this.config['text:logo_horizontal_alignment'],this.config.logoVerticalAlignment=0===this.config['text:logo_vertical_alignment'].length?'bottom':this.config['text:logo_vertical_alignment'],this.config.containerBackgroundHorizontalAlignment=0===this.config['text:container_background_horizontal_alignment'].length?'right':this.config['text:container_background_horizontal_alignment'],this.config.el='string'==typeof this.config.el?document.querySelector(this.config.el):this.config.el,null===this.config.el)throw new Error('Something wrong with your el param');this.config.el.insertAdjacentHTML('beforeend',this.baseTemplate),this.initData=this.initData.bind(this),this.isModeBannerTop=!1;var r=this;this.data=this.initData(this.config),this.rootView=this.config.el,this.overlayView=this.rootView.querySelector('#vmfive-overlay-'+r.config.request_id),this.adContainerView=this.rootView.querySelector('#vmfive-ad-container-'+r.config.request_id),this.adContainerBg=this.rootView.querySelector('#vmfive-container-background-'+r.config.request_id),this.videoOuter=this.rootView.querySelector('#vmfive-video-outer-'+r.config.request_id),this.unexpandedWH=[],this.init()}return a(n,null,[{key:'getDefaultConfig',value:function(n){n=n||{};var e=n.request_id&&''!=n.request_id.trim()?n.request_id:'[request_id]';return{el:'#vmfive-ad-unit-container-'+e,request_id:e,track_url:'[track_url]',downloaded_pixel:'[downloaded_pixel]',downloaded_impression_pixel:'[downloaded_impression_pixel]','text:cta_in_new_window':'[text:cta_in_new_window]',dfp_url:'[dfp_url]',cta_prefix_url:'[cta_prefix_url]','cta:default':'[cta:default]','text:banner_z_index':'[text:banner_z_index]','text:banner_top_offset':'[text:banner_top_offset]','text:banner_bottom_offset':'[text:banner_bottom_offset]','text:scale':'[text:scale]','text:expand_scale':'[text:expand_scale]','text:max_width':'[text:max_width]','text:embedded':'[text:embedded]','text:logo_background_color':'[text:logo_background_color]','text:logo_horizontal_alignment':'[text:logo_horizontal_alignment]','text:logo_vertical_alignment':'[text:logo_vertical_alignment]','image:container_background':'[image:container_background]','text:container_background_horizontal_alignment':'[text:container_background_horizontal_alignment]',enableClipPath:!0,enableLogo:!0,enableImpression:!0,'text:banner_ratio':'[text:banner_ratio]',enableExpand:!1,disableCta:!1,onresize:[],onprepared:[],onctaclicked:[],onPanMoveUp:[],onexpanded:[],oncloseexpanded:[]}}}]),a(n,[{key:'initData',value:function(n){var e=n.el,t=n.bannerRatio,i=void 0,a=void 0,r=void 0;try{i=e.getBoundingClientRect().width,r=+t.split(':')[1]/+t.split(':')[0],a=i*r}catch(n){console.log(n),i=e.getBoundingClientRect().width,r=5/32,a=i*r}return o({},n,{elWidth:i,elHeight:a,viewHeight:window.innerHeight||document.documentElement.clientHeight,bannerHeight:a,bannerHeightRate:r})}},{key:'init',value:function(){function n(n,e){n.addEventListener('click',e)}function e(n,e){n.removeEventListener('click',e)}function t(n,e,t){var i={};return n.forEach(function(n,o){i=n[e]==t?n:i}),i}function o(n){n=n.replace('[timestamp]',Date.now());var e=document.createElement('img');e.src=n,e.style.display='none',document.body.appendChild(e)}function a(){if(window.$sf&&window.$sf.ext&&window.$sf.ext.geom&&'function'==typeof window.$sf.ext.geom&&'object'===i(window.$sf.ext.geom()))return window.$sf.ext.geom()}var r=this;Date.now();r.doSimpleCustomTracking=function(n,e){e=e||{};var i=t(_,'event','custom');if(i.event){var a=i.url;a=a+'&eventSubtype='+encodeURIComponent(n),a=a+'&eventDetails='+encodeURIComponent(JSON.stringify(e)),a=e.eventValue?a+'&eventValue='+encodeURIComponent(e.eventValue):a,o(a)}},r.doAcceptInvitationTracking=function(){r.doSimpleCustomTracking('testNewTracking',{eventValue:1})};var c=''+r.config['text:scale'],l=isNaN(c)||0===c.length?1:+c,d=r.adContainerView,g=r.overlayView,s=''+r.config['text:cta_in_new_window']=='true',f=function(n){if(n.target.id=='vmfive-volume-btn-'+r.config.request_id||n.target.id=='vmfive-logo-'+r.config.request_id)return!1;var e=''+r.config.dfp_url+r.config.cta_prefix_url+'&url='+r.config['cta:default'],t=r.config.onctaclicked&&Array.isArray(r.config.onctaclicked)?r.config.onctaclicked:[];r.callback(t,{e:n}),r.config.disableCta||(s?window.open(e,'_blank'):window.top.location.href=e)};r.onCtaClicked=f,r.config.enableExpand?(r.expandAd=function(t){if(t.target.id=='vmfive-volume-btn-'+r.config.request_id)return!1;e(d,r.expandAd),g.classList.add('expanded'),d.classList.add('expanded'),r.doAcceptInvitationTracking(),n(d,f);var i=r.config.onexpanded&&Array.isArray(r.config.onexpanded)?r.config.onexpanded:[];r.callback(i,{e:t})},n(d,r.expandAd)):n(d,f);var u=r.data.bannerHeightRate,p="(100vw - 0px)*"+l,h="("+p+")*"+u;d.style.width="calc("+p+")",d.style.height="calc("+h+")";var v=''+r.config['text:max_width'],m=isNaN(v)||0===v.length?424:+v,x=m*this.data.bannerHeightRate;d.style.maxWidth=m+'px',d.style.maxHeight=x+'px',r.config.enableClipPath||d.classList.add('noclippath');var _=[];try{_=JSON.parse(r.config.track_url)}catch(n){console.log(n)}r.doImpression=function(){var n=document.querySelector('#vmfive-ad-unit-container-'+r.config.request_id),e=n.parentElement.parentElement.getAttribute('dfp-imp');e&&0!=e.length&&o(e);for(var t=0;t<_.length;t++){var i=_[t];if(i&&'impression'===i.event){o(i.url)}}},r.callback=function(n,e){n.forEach(function(n){'function'==typeof n&&n(r,e)})};var b=setInterval(function(){var n=!1;if(a())try{n|=window.$sf.ext.inViewPercentage()>0}catch(n){console.log(n)}else r.adContainerView&&(n=r.adContainerView.getBoundingClientRect().top<window.innerHeight);n&&r.config.enableImpression&&(r.doImpression(),clearInterval(b))},200),y=$(r.adContainerView);y.hammer().on('pan panup',function(n){switch(n.type){case'panup':if(n.gesture.deltaY<-4){var e=r.config.onPanMoveUp&&Array.isArray(r.config.onPanMoveUp)?r.config.onPanMoveUp:[];r.callback(e)}}}),y.data('hammer').get('pan').set({direction:Hammer.DIRECTION_VERTICAL});var w=''+r.config['text:embedded']=='true',k=''+r.config['text:banner_top_offset'],A=isNaN(k)||0===k.length?'unset':+k,q=''+r.config['text:banner_bottom_offset'],C=isNaN(q)||0===q.length?0:+q;w&&(r.overlayView.style.position='unset'),r.overlayView.style.top=A+'px',isNaN(A)?r.overlayView.style.bottom=C+'px':(r.overlayView.style.bottom='unset',r.isModeBannerTop=!0),r.overlayView.style.visibility='unset',function(n){return r.rootView.querySelector('#'+n)}('vmfive-logo-'+r.config.request_id).style.display=r.config.enableLogo?'block':'none',(r.config.onprepared&&Array.isArray(r.config.onprepared)?r.config.onprepared:[]).forEach(function(n){'function'==typeof n&&n(r)}),r.unexpandedWH.width=d.style.width,r.unexpandedWH.height=d.style.height,r.unexpandedWH.maxWidth=d.style.maxWidth,r.unexpandedWH.maxHeight=d.style.maxHeight}},{key:'closeExpand',value:function(){function n(n,e){n.addEventListener('click',e)}var e=this,t=e.adContainerView;!function(n,e){n.removeEventListener('click',e)}(t,e.onCtaClicked),e.overlayView.style.height='auto',t.style.width=e.unexpandedWH.width,t.style.height=e.unexpandedWH.height,t.style.maxWidth=e.unexpandedWH.maxWidth,t.style.maxHeight=e.unexpandedWH.maxHeight,setTimeout(function(){n(t,e.expandAd)},0)}},{key:'baseTemplate',get:function(){var n=this;return'\n  <div id="vmfive-overlay-'+n.config.request_id+'">\n    <div id="vmfive-ad-container-'+n.config.request_id+'">\n      <div id="vmfive-video-outer-'+n.config.request_id+'"></div>\n      <div id="vmfive-container-background-'+n.config.request_id+'">\n        <img src="'+n.config['image:container_background']+'">\n      </div>\n      <div id="vmfive-logo-'+n.config.request_id+'" class="vmfive-info-image" onclick="window.open(\'https://vmfive.com/?utm_source=vmfive_ad_logo\', \'_blank\')"></div>\n      <div id="vmfive-pointer-'+n.config.request_id+'"><img src="https://ad-demo.vmfive.com/images/scroll_up.png"></div>\n    </div>\n  </div>\n  <img src="'+n.config.downloaded_pixel+'" style="display:none;">\n  \n  <style>\n  #vmfive-overlay-'+n.config.request_id+' {\n    position:fixed;\n    bottom:0;\n    right:0;\n    left:0;\n    z-index: '+n.config.bannerZIndex+';\n    visibility:hidden;\n  \n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  #vmfive-overlay-'+n.config.request_id+'.expanded {\n    height: 100vh;\n    width: 100vw;\n  \n    background-color:rgba(0, 0, 0, 0.7);\n  \n    -webkit-animation: expandAnimation 0.1s ease forwards;\n    animation: expandAnimation 0.1s ease forwards;\n  }\n  @-webkit-keyframes expandAnimation {\n    0% {\n      background-color:rgba(0, 0, 0, 0);\n    }\n    90% {\n      height: 100vh;\n      background-color:rgba(0, 0, 0, 0);\n    }\n    100% {\n      height: 100vh;\n      background-color:rgba(0, 0, 0, 0.7);\n    }\n  }\n  @keyframes expandAnimation {\n    0% {\n      background-color:rgba(0, 0, 0, 0);\n    }\n    90% {\n      height: 100vh;\n      background-color:rgba(0, 0, 0, 0);\n    }\n    100% {\n      height: 100vh;\n      background-color:rgba(0, 0, 0, 0.7);\n    }\n  }\n  #vmfive-ad-container-'+n.config.request_id+' {\n    clip-path: inset(1px);\n    -webkit-clip-path: inset(1px);\n  \n    position: relative;\n  \n    display: flex;\n    align-items: center;\n  \n    justify-content: center;\n  }\n  #vmfive-ad-container-'+n.config.request_id+'.expanded {\n    max-height: calc(100% * '+n.config.expandScale+') !important;\n    max-width: calc(100% * '+n.config.expandScale+') !important;\n    height: calc(100% * '+n.config.expandScale+') !important;\n    width: calc(100% * '+n.config.expandScale+') !important;\n  }\n  #vmfive-ad-container-'+n.config.request_id+'.noclippath {\n    clip-path: unset;\n    -webkit-clip-path: unset;\n  }\n  #vmfive-video-outer-'+n.config.request_id+' {\n      width: 50%;\n      position: absolute;\n      display: flex;\n      '+n.config.containerBackgroundHorizontalAlignment+': 0;\n      align-items: center;\n  }\n  #vmfive-container-background-'+n.config.request_id+' {\n    display: flex;\n    width: 100%;\n    height: 100%;\n  }\n  #vmfive-container-background-'+n.config.request_id+' img {\n    width: 100%;\n  }\n  #vmfive-overlay-'+n.config.request_id+' .vmfive-info-image {\n    position:absolute;z-index:100;\n    background-size:20px 20px;background-repeat:no-repeat;background-position:center;\n    cursor:pointer;\n  }\n  #vmfive-logo-'+n.config.request_id+' {\n    background-image:url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAlCAYAAADFniADAAAC7UlEQVRYhc3YT4iVVRjH8c+9zpgoLcxFY2gRSX8sNIZcFO2ENIxI3NkqEIkIN20MFzXQtk1MiySF2kuoURYKgiBGEEXin0UkzUAY0kCpqeN4Wpx7mTvPe/+8770XZ36bl+fhvOd8z3nOOc/zvrWUEmzBu3gKNfdfCZcxOTEx8WMtpbQFn6C+CDBR97CvllL6Ak8vNk2LLtVSSucsTsg6KdUNB2gGZ/D3EPqqjQyhkym8hX/xIL7EI4N0OIzNfaIBpPH8dtAOhwF1Pdj/DNphGahb8n6ZGnCsKZxWnERBvfbUDPZgGsvwMV7sA+gc3sNdrMVhPNSpcbeVSvigAQRz+LoPIDjWAII/caDRf2WoY/gh+J7sEypezj/hSFWo2zgYfM/izT6hduO54Pu8MU5pqFO41mKPYkLvPdhJI433R1t8M/iuClS8a17D+j6BmlqHbcH3fVmoOfwSfK8PCNTUzmD/jDtloH6zMNYr8cyQoDbKqaipWVwpAxWT6uO6J+0Hgr2iS9u6Yl68WgbqZo9Bo142D13HSz3arwp24QS2O00rgx0hozbhM5zFC9jco/1ssAuTbge1JtjTcpna7aLdXAKmqSvBHosN2g30hIX74joulhywly6ZL3NgOR4rA1VXnPVXQ4I6HuxNMlhPKHg12Cfwx4BA0zgafPEy7Qq1Fatb7Fk5TcRNWlZ38WF4fzW2V4Fajr3Bdx7vmy9BqgAdwK/Bv0eb0HWDgjcwHnxnZNiyoZzG23LF2apx7Or0Ui2lFGumVl2Tv1T+Cv5R7JBz4kYLb/yEC3JBeFwx5GNy5RmvntJQ5Nm+o006aGiVfKxX4D95FW90aDuGT+WKoaPKQJHz4X7F6qGKxvGRLitUFYocliM4pNqX8Bp5U+9U8mu8ClRTd/ANTsorV6iH5FP1PF6R76K2p2yYUK2aw+/yyt2Sc+nDeNTC0reSRuSw9PuTYxk29Dt4B6W6/AdtKelyHZNyabIUdA+TtaX4z/N/WVG1ilVDUhAAAAAASUVORK5CYII=\');\n    display:none;\n    bottom:0;right:0;\n    '+n.config.logoHorizontalAlignment+':0;\n    '+n.config.logoVerticalAlignment+':0;\n    width:18px;height:18px;\n    background-color: '+n.config.logoBgColor+';\n  }\n  #vmfive-pointer-'+n.config.request_id+' {\n    position: absolute;\n    width: 60px;\n    top: -20px;\n    right: calc(50% - 30px);\n    z-index: 5\n  }\n  #vmfive-pointer-'+n.config.request_id+'.hide {\n    display: none;\n  }\n  #vmfive-pointer-'+n.config.request_id+' img {\n    width: 100%;\n  }\n  </style>\n      '}}]),n}();try{n.exports=r}catch(n){}}]);
            var Flyer=function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,'a',i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/adformats",t(t.s=0)}([function(module,exports){function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Flyer=function(){function Flyer(e){if(_classCallCheck(this,Flyer),this.defaultConfig=this.constructor.getDefaultConfig(e),this.config=_extends({},this.defaultConfig,e),this.autoplayString=''+this.config['text:autoplay']=='true',this.config.ctaMode=this.config.ctaMode,this.config.el='string'==typeof this.config.el?document.querySelector(this.config.el):this.config.el,null===this.config.el)throw new Error('Something wrong with your el param');this.config.el.insertAdjacentHTML('beforeend',this.template);var t=this;this.rootView=this.config.el,this.overlayView=this.rootView.querySelector('#vmfive-overlay-'+t.config.request_id),this.adCarousel=this.rootView.querySelector('#vmfive-carousel-'+t.config.request_id),this.adPointer=this.rootView.querySelector('#vmfive-pointer-'+t.config.request_id),this.init()}return _createClass(Flyer,null,[{key:'getDefaultConfig',value:function(e){e=e||{};var t=e.request_id&&''!=e.request_id.trim()?e.request_id:'[request_id]';return{el:'#vmfive-ad-unit-container-'+t,request_id:t,track_url:'[track_url]',downloaded_pixel:'[downloaded_pixel]','text:cta_in_new_window':'[text:cta_in_new_window]',dfp_url:'[dfp_url]',cta_prefix_url:'[cta_prefix_url]','cta:default':'[cta:default]','cta:pan_view':'[cta:pan_view]','text:3rd_party_track_url':'[text:3rd_party_track_url]',medias:'[{},{},{},{}]',disableCta:!1}}}]),_createClass(Flyer,[{key:'init',value:function init(){function appendEventDetails(e,t){return e=e+'&eventDetails='+encodeURIComponent(JSON.stringify(t))}function appendResInfo(e,t,i,n){return appendEventDetails(e,{index:t,type:i,event:n})}function doImpression(e){for(var t=JSON.stringify(trackingList),i=JSON.parse(t),n=0;n<i.length;n++){var r=i[n];r.url=appendResInfo(r.url,e,'FlyerSide',r.event),r&&'impression'===r.event&&(r.url=r.url.replace('event=impression','event=custom'),doTracking(r.url))}}function delayInit(){if(delayInitList.length>0){delayInitList.shift()()}}function getTrackingList(e){var t=[];try{t=JSON.parse(e)}catch(e){console.log(e)}return t}function get3rdPartyTrackingList(){var thirdPartyTrackUrl='',thirdPartyTrackUrlStr='',thirdPartyTrackigList=[];try{thirdPartyTrackUrlStr=eval(self.config['text:3rd_party_track_url']+"''"),thirdPartyTrackUrl='['+thirdPartyTrackUrlStr+"null]",thirdPartyTrackigList=JSON.parse(thirdPartyTrackUrl),thirdPartyTrackigList.pop()}catch(e){console.log(e)}return thirdPartyTrackigList}function doTracking(e){e=e.replace('[timestamp]',Date.now());var t=new XMLHttpRequest;t.open('GET',e,!0),t.send()}function getCtaPrefix(){return''+self.config.dfp_url+self.config.cta_prefix_url+'&url='}function getCtaURL(){return''+self.config['cta:default']}function getDynamicInfoURL(){return''+self.config['text:dynamic_info']}function getFullCtaURL(){return getCtaPrefix()+getCtaURL()}function getFullBannerCtaURL(){var e=''+self.config['cta:banner'];return''===e?getFullCtaURL():getCtaPrefix()+e}function generateOnCtaClickedByResInfo(e,t){return function(i){var n=flyerList[e].ctaURL;n=n&&''!==n.trim()?ctaPrefix+n:getFullCtaURL();var r=appendResInfo(n,e,t,'click');(self.config.onctaclicked&&Array.isArray(self.config.onctaclicked)?self.config.onctaclicked:[]).forEach(function(n){'function'==typeof n&&n(self,{e:i,index:e,type:t})}),"postMessage"===self.config.ctaMode?window.postMessage({ctaUrl:r},'*'):ctaInNewWindow?window.open(r,'_blank'):window.top.location.href=r}}function addElClickEvent(e,t){e.addEventListener('click',t)}function setClickEventToEl(e){addElClickEvent(e,onCtaClicked)}var self=this,vmfiveAdCarousel=this.adCarousel,vmfiveAdPointer=this.adPointer,ctaInNewWindow=''+self.config['text:cta_in_new_window']=='true',isAnyOnPrepared=!1,overPositionToImpression=!1,checkPositionToImpressionInterval=setInterval(function(){'none'!=window.getComputedStyle(self.overlayView).display&&(overPositionToImpression=!0),(noVideoItem||isAnyOnPrepared)&&overPositionToImpression&&(doImpression(flyerList.currentSlide),flyerList[flyerList.currentSlide].isImpressed=!0,clearInterval(checkPositionToImpressionInterval))},200),mediaList=[];try{mediaList=JSON.parse(self.config.medias),mediaList=void 0!=mediaList&&Array.isArray(mediaList)?mediaList:[]}catch(e){console.log(e)}var containerRawWidth=void 0,containerRawHeight=void 0;containerRawWidth=window.innerWidth,containerRawHeight=window.innerHeight;var containerRawRatio=containerRawWidth/containerRawHeight,naturalImgRatio=void 0,cellRatio=.75,img=new Image;img.addEventListener("load",function(){naturalImgRatio=this.naturalWidth/this.naturalHeight,vmfiveAdCarousel.style.height=containerRawHeight+'px',vmfiveAdCarousel.style.width=containerRawWidth+'px',console.log('up'),vmfiveAdCarousel.querySelector('.flickity-viewport').style.height=containerRawWidth/naturalImgRatio*cellRatio+'px',vmfiveAdPointer.style.bottom=[containerRawWidth/naturalImgRatio*cellRatio]/2+'px',vmfiveAdCarousel.querySelectorAll('section').forEach(function(e,t){e.style.width=containerRawWidth*cellRatio+'px'})}),img.src=mediaList[0].image;var flyerList=[],delayInitList=[],noVideoItem=!0;mediaList.forEach(function(e,t){var i=document.createElement("section");i.id='main-'+(t+1)+'-'+self.config.request_id,i.innerHTML="",i.className="carousel-cell";var n=document.createElement("div");n.className="article";var r=document.createElement("img");r.src=e.image,n.appendChild(r),i.appendChild(n),self.adCarousel.appendChild(i),flyerList[t]=flyerList[t]?flyerList[t]:{},flyerList[t].isImpressed=!1,self.config.disableCta||addElClickEvent(r,generateOnCtaClickedByResInfo(t,'image'))}),flyerList.currentSlide=0,delayInit(),self.flkty=new Flickity('#vmfive-carousel-'+self.config.request_id+'.vmfive-carousel',{freeScroll:!0,dragThreshold:10,prevNextButtons:!1,freeScrollFriction:.09,pageDots:!1,cellAlign:'right'}),self.flkty.on('change',function(e){console.log('Slide changed to '+e),flyerList.currentSlide=e,flyerList[flyerList.currentSlide].isImpressed||(doImpression(flyerList.currentSlide),flyerList[flyerList.currentSlide].isImpressed=!0)}),self.flkty.on('settle',function(e){if(e===self.flkty.slides.length-1){var t=''+self.config.dfp_url+self.config.cta_prefix_url+'&url='+self.config['cta:pan_view'];ctaInNewWindow?window.open(t,'_blank'):window.top.location.href=t}}),self.flkty.on('dragMove',function(e,t,i){i.x<-40&&vmfiveAdPointer.classList.add('hide')});var trackings=''+self.config.track_url,thirdPartyTrackingList=get3rdPartyTrackingList();if(thirdPartyTrackingList.length>0){var _trackingList=[].concat(_toConsumableArray(getTrackingList(trackings)),_toConsumableArray(thirdPartyTrackingList));trackings=JSON.stringify(_trackingList)}var width=0,height=0,trackingList=[];try{trackingList=JSON.parse(self.config.track_url)}catch(e){console.log(e)}var ctaPrefix=''+self.config.dfp_url+self.config.cta_prefix_url+'&url=',onCtaClicked=function(e){self.config.dfp_url,self.config.cta_prefix_url,self.config['cta:default'];(self.config.onctaclicked&&Array.isArray(self.config.onctaclicked)?self.config.onctaclicked:[]).forEach(function(t){'function'==typeof t&&t(self,{e:e})})}}},{key:'template',get:function(){var e=this;return'\n      <div id="vmfive-overlay-'+e.config.request_id+'">\n        <div id="vmfive-carousel-'+e.config.request_id+'" class="vmfive-carousel">\n        </div>\n        <div id="vmfive-pointer-'+e.config.request_id+'"><img src="https://ad-demo.vmfive.com/images/scroll_left.png"></div>\n      </div>\n      <img src="'+e.config.downloaded_pixel+'" style="display:none;">\n  \n      <style>\n      #vmfive-overlay-'+e.config.request_id+' {\n        position:fixed;\n        top:0;\n        left:0;\n        bottom:0;\n        right:0;\n        margin: auto;\n        \n        z-index: 9999999;\n      }\n      #vmfive-carousel-'+e.config.request_id+' {\n        position: relative;\n      }\n      #vmfive-carousel-'+e.config.request_id+' {\n        position: relative;\n        width: 100%;\n        height: 100%;\n      }\n      #vmfive-carousel-'+e.config.request_id+' section {\n        margin: 0 auto;\n      }\n    #vmfive-carousel-'+e.config.request_id+' .article {\n\t  height: 100%;\n      width: 100%;\n\t}\n    \n\t#vmfive-carousel-'+e.config.request_id+' section {\n\t\theight: 100%;\n\t\twidth: 100%;\n    }\n    #vmfive-carousel-'+e.config.request_id+' section:nth-child(odd) {\n        -webkit-transform: skewY(3deg);\n        transform: skewY(3deg);\n        box-shadow: inset -1px 0 0px rgba(0, 0, 0, .8);\n    }\n    #vmfive-carousel-'+e.config.request_id+' section:nth-child(even) {\n        -webkit-transform: skewY(-3deg);\n        transform: skewY(-3deg);\n        box-shadow: inset -1px 0 0px rgba(0, 0, 0, 0.8);\n    }\n\t#vmfive-carousel-'+e.config.request_id+' section img {\n        width: 100%;\n        display: block;\n    }\n    #vmfive-carousel-'+e.config.request_id+' .carousel-cell {\n        bottom: 0;\n        width: 75%;\n        height: auto;\n        border-radius: 5px;\n      }\n    #vmfive-carousel-'+e.config.request_id+' .flickity-viewport {\n        position: absolute;\n        cursor: grab;\n        width: 100%;\n        height: 100%;\n        bottom: 20px;\n      }\n    #vmfive-carousel-'+e.config.request_id+' .flickity-slider {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n      }\n    #vmfive-pointer-'+e.config.request_id+' {\n        position: absolute;\n        width: 60px;\n        right: 0;\n        z-index: 5;\n    }\n    #vmfive-pointer-'+e.config.request_id+'.hide {\n        display: none;\n    }\n    #vmfive-pointer-'+e.config.request_id+' img {\n        width: 100%;\n    }\n      </style>\n      '}}]),Flyer}();try{module.exports=Flyer}catch(e){}}]);
            let template = new TemplateBuilder({
                cdn: 'https://d2v4tz4zvhrua.cloudfront.net/production/dist/2019-09-12-1568259515969',
                plugins: [
                ],
                adformats: [
                    'BannerContainerBackground', 'Flyer'
                ],
                components: [
                    'ExpandHelper', 'CloseButton'
                ],
                develop: false,
                showCreateButton: false,
                BaseAdUnit: [
                    function (self) {
                        return {
                            adformatName: 'BannerContainerBackground',
                            refName: 'vmfiveAdUnitContainer',
                            option: {
                                el: '#vmfive-ad-unit-container-55667788',
                                videoBorderRadius: 0,
                                enableClipPath: false,
                                enableImpression: false,
                                disableCta: true
                            },
                            demoOption: {
                                'downloaded_pixel': 'https://vaser-track.vm5apis.com/v2/track?requestId=&event=downloaded&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0',
                                'text:cta_in_new_window': '',
                                'dfp_url': '',
                                'cta_prefix_url': 'https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=click',
                                'cta:default': 'https://vmfive.com/?utm_source=vmfive_ad_cta',
                                'text:banner_bottom_offset': `0`,
                                'text:scale': `1`,
                                'text:close_button_horizontal_alignment': 'left',
                                'text:background_color': 'rgba(0,0,0,0.7)',
                                'text:banner_ratio': '7:3',
                                'image:container_background': 'https://ad-demo.vmfive.com/demos/showcase/20190920/resource/banner.jpg',
                                'text:container_background_horizontal_alignment': '',
                            }
                        };
                    },
                    function (self) {
                        return {
                            adformatName: 'Flyer',
                            refName: 'Flyer',
                            option: {
                                el: '#vmfive-ad-unit-container-[request_id]-expand',
                                'request_id': '[request_id]-expand',
                                videoScale: '16:9',
                            },
                            demoOption: {
                                'cta:default': `https://www.skm.com.tw/DM/DMContent?UUID=2ca9fead-1f4b-4f84-8d32-520c469fa5dc`,
                                'cta:pan_view': 'https://www.skm.com.tw/DM/DMContent?UUID=2ca9fead-1f4b-4f84-8d32-520c469fa5dc',
                                'text:3rd_party_track_url': '',
                                'dfp_url': ``,
                                medias:
                                '['+
                                '{"image": "https://ad-demo.vmfive.com/demos/showcase/20190920/resource/page1.png"},'+
                                '{"image": "https://ad-demo.vmfive.com/demos/showcase/20190920/resource/page2.png"},'+
                                '{"image": "https://ad-demo.vmfive.com/demos/showcase/20190920/resource/page3.png"},'+
                                '{"image": "https://ad-demo.vmfive.com/demos/showcase/20190920/resource/page4.png"}'+
                                ']',
                            }
                        }
                    },
                    function (self) {
                        self.refs['Flyer'].adCarousel.querySelector(`.flickity-slider`).style.transform = 'translateX(20%)';

                    }
                ],
                OnBaseAdUnitPrepared: [
                    function (self) {
                        return {
                            componentName: 'CloseButton',
                            refName: 'CloseButton',
                            option: {
                                el: self.refs['vmfiveAdUnitContainer'].adContainerView,
                                enableExpand: true,
                                onclosed: [
                                    function() {
                                        // clearInterval(self.refs['Flyer'].setIntervalCheckPage4Viewability);
                                    }
                                ],
                            },
                            demoOption: {
                                'text:close_button_horizontal_alignment': 'left',
                                'text:beautify_percent': '80'
                            }
                        }
                    },
                    function (self) {
                        return {
                            componentName: 'CloseButton',
                            refName: 'CloseButtonFlyer',
                            option: {
                                el: self.refs['Flyer'].overlayView,
                                'request_id': '[request_id]-expand',
                                onExpandHelperClose: [
                                    function (comp) {
                                        self.refs['ExpandHelper'].expandedVisible('hide');
                                        self.refs['ExpandHelper'].originalVisible('show');
                                    }
                                ],
                            },
                            demoOption: {
                                'text:close_button_horizontal_alignment': 'right',
                                'text:beautify_percent': '80',
                            }
                        }
                    },
                    function (self) {
                        return {
                            componentName: 'ExpandHelper',
                            refName: 'ExpandHelper',
                            option: {
                                'track_url': '[track_url]',
                                original: self.refs['vmfiveAdUnitContainer'],
                                expanded: self.refs['Flyer'],
                                showExpandButton: false,
                                onprepared: [
                                    function (comp) {
                                        console.log('expand is work');
                                        comp.expandedVisible('hide');
                                        comp.originalVisible('show');
                                    }
                                ]
                            },
                            demoOption: {
                                'text:expand_button_horizontal_alignment': '',
                            }
                        }
                    },
                    function (self) {
                        self.refs['vmfiveAdUnitContainer'].config.onctaclicked = [
                            function () {
                                self.refs['ExpandHelper'].expandedVisible('show');
                                self.refs['ExpandHelper'].originalVisible('hide');
                            }
                        ];
                        self.refs['vmfiveAdUnitContainer'].config.onPanMoveUp = [
                            function () {
                                self.refs['ExpandHelper'].expandedVisible('show');
                                self.refs['ExpandHelper'].originalVisible('hide');
                            }
                        ];
                    }
                ]
            });
        </script>
    </div>
</body>

</html>