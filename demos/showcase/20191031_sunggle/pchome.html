<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>VMFive ADN Web SDK Demo</title>
    <meta name="viewport"
        content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
    <style>
        body {
            font-family: sans-serif;
        }

        body {
            margin: 0;
            padding: 0;
        }

        .page-container {
            width: 90%;
            max-width: 500px;
            margin: 10px auto;
        }
    </style>
</head>

<body>
    <div class="page-container">
        <h2>第五代虛擬科技／技術起家 橫跨五大領域</h2>
        <h4>經濟日報 記者馬瑞璿／台北報導</h4>

        <p>第五代虛擬科技（VMFive）以互動遊戲廣告技術起家，後又以原生影音廣告為業務主力，以技術層面分析，互動遊戲廣告技術所需技術含量較高，整體技術需橫跨虛擬化、雲端、串流、跨平台、大數據等五領域，這也是VMFive命名由來。
        </p>
        <p>為什麼互動遊戲廣告需要的技術含量高？VMFive旗下的AdPlay主攻行動互動遊戲市場，行動市場必須考量連線能力、處理器架構與各廠牌手機繪圖能力，因此，主要技術領域集中在串流、虛擬化與跨平台三大領域。</p>
        <p>VMFive創辦人暨執行長丁俊宏表示，AdPlay串流到各個網址，可以在PC、NB、手機、平板等各類裝置上使用這個App。然而，這個串流體驗必須相當即時，因為所有的點擊都會在雲端上進行運算，必須在100-200毫秒內完成人機互動，這考驗著串流能力；而雲端也必須模擬手機處理器架構。目前手機處理器架構都是以ARM為主，要雲端來運算ARM架構也有些難度。此外，雖然App架設在雲端上，但最後連結的終端產品性能各有不同，必須因應不同設備去做解碼，甚至必須配合低階手機調整呈現品質，要在偵測用戶手機的同時，進行動態演算調節，在在都有技術難度。
        </p>
        <p>原生影音廣告技術含量就稍微低一些，丁俊宏表示，影音廣告著重串流、API（應用程式介面）、資料定向三大類技術，串流技術必須流暢才能降低延遲，並在不到1秒內的時間把廣告載入、完成串流，讓消費者觀看廣告，同時，也要提供API讓開發商組合成需要的格式，提升體驗效果，最後，也要在龐大的廣告資料裡面分析定向受眾，未來才能精準投遞目標客群。
        </p>

        <div id="vmfive-ad-unit-container-55667788"></div>

        <h3>執行長丁俊宏 來場不一樣的創業</h3>

        <p>走進第五代虛擬科技（VMFive）位於南京東路上的辦公室，空間設計帶有淡淡的loft風卻讓人備感溫馨，創辦人暨執行長丁俊宏是七年級生，斯文的外表下卻帶有創業的堅定。他說，他想做點與別人不同的事。為什麼想要創業？他說，「我小時候就對科學家有憧憬，喜歡看愛因斯坦、愛迪生的故事，我也喜歡看科幻電影，喜歡回到未來、時光機的那種，創業對我來說是一種憧憬，可以做一些不一樣的事情、甚至作一些創新的東西」。
        </p>
        <p>在創立VMFive前，丁俊宏已經設立過二家公司，一家公司主要作行動應用開發，另外一家公司則是做壽險軟體；當時，壽險軟體獲得許多良好迴響，但丁俊宏希望自己可以做一點走向全球的事，於是，他決定把公司交給團隊夥伴經營，自己出來開設另外一家公司，VMFive於焉誕生。
        </p>
        <p>第五代虛擬科技團隊草創初期，一部分人在台北、一部分在新竹，有些人是學生、有些人是社會新鮮人，直到2014年才在台北設辦公室。「一開始，大家都沒經驗，只有我先前創立過別間公司、有一點的經驗，而且我又是CEO，所以大多以我的想法為主，創立初期，大家多少都會有意見相佐的時候，默契不見得這麼好，但到了營運中期之後，我慢慢授權經營團隊，讓大家自主發揮」，丁俊宏回憶道。
        </p>
        <p>丁俊宏設定三年內在亞太地區互動遊戲廣告市場闖出一片天，他對自家的技術相當有信心，現階段目標是讓VMFive把市場做大、做好，並希望這家公司可以永續經營。</p>
        <hr />
        <p>文章來源：<a href="https://money.udn.com/money/story/11150/2478372">經濟日報</a></p>

        <script src="https://man.vm5apis.com/dist/anime.js/3.0.1/anime.min.js"></script>
        <script src="https://man.vm5apis.com/dist/jquery/2.1.3/jquery.min.js"></script>
        <script src="https://man.vm5apis.com/dist/hammer.js/2.0.8/hammer.min.js"></script>
        <script src="https://man.vm5apis.com/dist/jquery.hammerjs/2.0.0/jquery.hammer.js"></script>
        <script src="https://man.vm5apis.com/dist/raf.js" data-mode="fast"></script>
        <script src="https://man.vm5apis.com/dist/libgif.js/0.0.2/libgif.min.js"></script>
        <script>
            var BannerContainer = function (e) { function n(i) { if (t[i]) return t[i].exports; var o = t[i] = { i: i, l: !1, exports: {} }; return e[i].call(o.exports, o, o.exports, n), o.l = !0, o.exports } var t = {}; return n.m = e, n.c = t, n.d = function (e, t, i) { n.o(e, t) || Object.defineProperty(e, t, { configurable: !1, enumerable: !0, get: i }) }, n.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return n.d(t, 'a', t), t }, n.o = function (e, n) { return Object.prototype.hasOwnProperty.call(e, n) }, n.p = "/dist/adformats", n(n.s = 0) }([function (e, n) { function t(e, n) { if (!(e instanceof n)) throw new TypeError("Cannot call a class as a function") } var i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, o = Object.assign || function (e) { for (var n = 1; n < arguments.length; n++) { var t = arguments[n]; for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]) } return e }, a = function () { function e(e, n) { for (var t = 0; t < n.length; t++) { var i = n[t]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i) } } return function (n, t, i) { return t && e(n.prototype, t), i && e(n, i), n } }(), r = function () { function e(n) { t(this, e); var i = n.request_id && '' != n.request_id.trim() ? n.request_id : '[request_id]'; this.defaultConfig = { el: '#vmfive-ad-unit-container-' + i, request_id: i, track_url: '[track_url]', downloaded_pixel: '[downloaded_pixel]', downloaded_impression_pixel: '[downloaded_impression_pixel]', 'text:cta_in_new_window': '[text:cta_in_new_window]', dfp_url: '[dfp_url]', cta_prefix_url: '[cta_prefix_url]', 'cta:default': '[cta:default]', 'text:banner_z_index': '[text:banner_z_index]', 'text:banner_top_offset': '[text:banner_top_offset]', 'text:banner_bottom_offset': '[text:banner_bottom_offset]', 'text:scale': '[text:scale]', 'text:expand_scale': '[text:expand_scale]', 'text:max_width': '[text:max_width]', 'text:embedded': '[text:embedded]', 'text:height_ratio': '[text:height_ratio]', 'text:background_color': '[text:background_color]', 'text:logo_background_color': '[text:logo_background_color]', enableClipPath: !0, enableLogo: !0, enableImpression: !0, bannerRatio: '32:5', videoBorderRadius: 0, enableExpand: !1, disableCta: !1, onresize: [], onprepared: [], onctaclicked: [], onexpanded: [], oncloseexpanded: [] }, this.config = o({}, this.defaultConfig, n); var a = '' + this.config['text:banner_z_index']; this.config.bannerZIndex = isNaN(a) || 0 === a.length ? '1999999' : +a, this.config.bgColor = 0 === this.config['text:background_color'].length ? 'transparent' : this.config['text:background_color'], this.config.logoBgColor = 0 === this.config['text:logo_background_color'].length ? 'transparent' : this.config['text:logo_background_color']; var r = '' + this.config['text:expand_scale']; if (this.config.expandScale = isNaN(r) || 0 === r.length ? 1 : +r, this.config.el = 'string' == typeof this.config.el ? document.querySelector(this.config.el) : this.config.el, null === this.config.el) throw new Error('Something wrong with your el param'); this.config.el.insertAdjacentHTML('beforeend', this.baseTemplate), this.initData = this.initData.bind(this), this.isModeBannerTop = !1; var c = this; this.data = this.initData(this.config), this.rootView = this.config.el, this.adContainerBg = this.rootView.querySelector('#vmfive-container-background-' + c.config.request_id), this.overlayView = this.rootView.querySelector('#vmfive-overlay-' + c.config.request_id), this.adContainerView = this.rootView.querySelector('#vmfive-ad-container-' + c.config.request_id), this.unexpandedWH = [], this.init() } return a(e, [{ key: 'initData', value: function (e) { var n = e.el, t = e.bannerRatio, i = void 0, a = void 0, r = void 0; try { i = n.getBoundingClientRect().width, r = +t.split(':')[1] / +t.split(':')[0], a = i * r } catch (e) { console.log(e), i = n.getBoundingClientRect().width, r = 5 / 32, a = i * r } return o({}, e, { elWidth: i, elHeight: a, viewHeight: window.innerHeight || document.documentElement.clientHeight, bannerHeight: a, bannerHeightRate: r }) } }, { key: 'init', value: function () { function e(e, n) { e.addEventListener('click', n) } function n(e, n) { e.removeEventListener('click', n) } function t(e, n, t) { var i = {}; return e.forEach(function (e, o) { i = e[n] == t ? e : i }), i } function o(e) { e = e.replace('[timestamp]', Date.now()); var n = document.createElement('img'); n.src = e, n.style.display = 'none', document.body.appendChild(n) } function a() { if (window.$sf && window.$sf.ext && window.$sf.ext.geom && 'function' == typeof window.$sf.ext.geom && 'object' === i(window.$sf.ext.geom())) return window.$sf.ext.geom() } var r = this; Date.now(); r.doSimpleCustomTracking = function (e, n) { n = n || {}; var i = t(w, 'event', 'custom'); if (i.event) { var a = i.url; a = a + '&eventSubtype=' + encodeURIComponent(e), a = a + '&eventDetails=' + encodeURIComponent(JSON.stringify(n)), a = n.eventValue ? a + '&eventValue=' + encodeURIComponent(n.eventValue) : a, o(a) } }, r.doAcceptInvitationTracking = function () { r.doSimpleCustomTracking('testNewTracking', { eventValue: 1 }) }; var c = '' + r.config['text:scale'], d = isNaN(c) || 0 === c.length ? 1 : +c, l = r.adContainerView, s = r.overlayView, f = '' + r.config['text:cta_in_new_window'] == 'true', g = function (e) { var n = '' + r.config.dfp_url + r.config.cta_prefix_url + '&url=' + r.config['cta:default'], t = r.config.onctaclicked && Array.isArray(r.config.onctaclicked) ? r.config.onctaclicked : []; console.log(e), r.callback(t, { e: e }), r.config.disableCta || (f ? window.open(n, '_blank') : window.top.location.href = n) }; r.onCtaClicked = g, r.config.enableExpand ? (r.expandAd = function (t) { if (event.target.id == 'vmfive-volume-btn-' + r.config.request_id) return !1; n(l, r.expandAd), s.classList.add('expanded'), l.classList.add('expanded'), r.doAcceptInvitationTracking(), e(l, g); var i = r.config.onexpanded && Array.isArray(r.config.onexpanded) ? r.config.onexpanded : []; r.callback(i, { e: t }) }, e(l, r.expandAd)) : e(l, g); var u = '' + r.config['text:height_ratio'], p = isNaN(u) || 0 === u.length ? 1 : +u; p > 4 && (p = 4); var h = r.data.bannerHeightRate * p, v = "(100vw - 0px)*" + d, x = "(" + v + ")*" + h; l.style.width = "calc(" + v + ")", l.style.height = "calc(" + x + ")"; var m = '' + r.config['text:max_width'], b = isNaN(m) || 0 === m.length ? 424 : +m, y = b * this.data.bannerHeightRate * p; l.style.maxWidth = b + 'px', l.style.maxHeight = y + 'px', r.config.enableClipPath || l.classList.add('noclippath'); var w = []; try { w = JSON.parse(r.config.track_url) } catch (e) { console.log(e) } r.doImpression = function () { var e = document.querySelector('#vmfive-ad-unit-container-' + r.config.request_id), n = e.parentElement.parentElement.getAttribute('dfp-imp'); n && 0 != n.length && o(n); for (var t = 0; t < w.length; t++) { var i = w[t]; if (i && 'impression' === i.event) { o(i.url) } } }, r.callback = function (e, n) { e.forEach(function (e) { 'function' == typeof e && e(r, n) }) }; var _ = setInterval(function () { var e = !1; if (a()) try { e = a().pos.t < 0 } catch (e) { console.log(e) } else r.adContainerView && (e = r.adContainerView.getBoundingClientRect().top < window.innerHeight); e && r.config.enableImpression && (r.doImpression(), clearInterval(_)) }, 200), k = '' + r.config['text:embedded'] == 'true', A = '' + r.config['text:banner_top_offset'], C = isNaN(A) || 0 === A.length ? 'unset' : +A, N = '' + r.config['text:banner_bottom_offset'], q = isNaN(N) || 0 === N.length ? 0 : +N; k && (r.overlayView.style.position = 'unset'), r.overlayView.style.top = C + 'px', isNaN(C) ? r.overlayView.style.bottom = q + 'px' : (r.overlayView.style.bottom = 'unset', r.isModeBannerTop = !0), r.overlayView.style.visibility = 'unset', function (e) { return r.rootView.querySelector('#' + e) }('vmfive-logo-' + r.config.request_id).style.display = r.config.enableLogo ? 'block' : 'none', (r.config.onprepared && Array.isArray(r.config.onprepared) ? r.config.onprepared : []).forEach(function (e) { 'function' == typeof e && e(r) }), r.unexpandedWH.width = l.style.width, r.unexpandedWH.height = l.style.height, r.unexpandedWH.maxWidth = l.style.maxWidth, r.unexpandedWH.maxHeight = l.style.maxHeight } }, { key: 'closeExpand', value: function () { function e(e, n) { e.addEventListener('click', n) } var n = this, t = n.adContainerView; !function (e, n) { e.removeEventListener('click', n) }(t, n.onCtaClicked), n.overlayView.style.height = 'auto', t.style.width = n.unexpandedWH.width, t.style.height = n.unexpandedWH.height, t.style.maxWidth = n.unexpandedWH.maxWidth, t.style.maxHeight = n.unexpandedWH.maxHeight, setTimeout(function () { e(t, n.expandAd) }, 0) } }, { key: 'baseTemplate', get: function () { var e = this; return '\n<div id="vmfive-overlay-' + e.config.request_id + '">\n  <div id="vmfive-ad-container-' + e.config.request_id + '">\n    <div id="vmfive-container-background-' + e.config.request_id + '"></div>\n    <div id="vmfive-logo-' + e.config.request_id + '" class="vmfive-info-image" onclick="window.open(\'https://vmfive.com/?utm_source=vmfive_ad_logo\', \'_blank\')"></div>\n  </div>\n</div>\n<img src="' + e.config.downloaded_pixel + '" style="display:none;">\n\n<style>\n#vmfive-overlay-' + e.config.request_id + ' {\n  position:fixed;\n  bottom:0;\n  right:0;\n  left:0;\n  background-color: ' + e.config.bgColor + ';\n  z-index: ' + e.config.bannerZIndex + ';\n  visibility:hidden;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n#vmfive-overlay-' + e.config.request_id + '.expanded {\n  height: 100vh;\n  width: 100vw;\n\n  background-color:rgba(0, 0, 0, 0.7);\n\n  -webkit-animation: expandAnimation 0.1s ease forwards;\n  animation: expandAnimation 0.1s ease forwards;\n}\n@-webkit-keyframes expandAnimation {\n  0% {\n    background-color:rgba(0, 0, 0, 0);\n  }\n  90% {\n    height: 100vh;\n    background-color:rgba(0, 0, 0, 0);\n  }\n  100% {\n    height: 100vh;\n    background-color:rgba(0, 0, 0, 0.7);\n  }\n}\n@keyframes expandAnimation {\n  0% {\n    background-color:rgba(0, 0, 0, 0);\n  }\n  90% {\n    height: 100vh;\n    background-color:rgba(0, 0, 0, 0);\n  }\n  100% {\n    height: 100vh;\n    background-color:rgba(0, 0, 0, 0.7);\n  }\n}\n#vmfive-ad-container-' + e.config.request_id + ' {\n  clip-path: inset(1px);\n  -webkit-clip-path: inset(1px);\n\n  position: relative;\n\n  display: flex;\n  align-items: center;\n\n  justify-content: center;\n}\n#vmfive-ad-container-' + e.config.request_id + '.expanded {\n  max-height: calc(100% * ' + e.config.expandScale + ') !important;\n  max-width: calc(100% * ' + e.config.expandScale + ') !important;\n  height: calc(100% * ' + e.config.expandScale + ') !important;\n  width: calc(100% * ' + e.config.expandScale + ') !important;\n}\n#vmfive-ad-container-' + e.config.request_id + '.noclippath {\n  clip-path: unset;\n  -webkit-clip-path: unset;\n}\n#vmfive-container-background-' + e.config.request_id + ' {\n  position: absolute;\n  left: 0%;\n  right: 0%;\n  width: 100%;\n  height: 100%;\n}\n#vmfive-overlay-' + e.config.request_id + ' .vmfive-info-image {\n  position:absolute;z-index:100;\n  background-size:20px 20px;background-repeat:no-repeat;background-position:center;\n  cursor:pointer;\n}\n#vmfive-logo-' + e.config.request_id + ' {\n  background-image:url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAlCAYAAADFniADAAAC7UlEQVRYhc3YT4iVVRjH8c+9zpgoLcxFY2gRSX8sNIZcFO2ENIxI3NkqEIkIN20MFzXQtk1MiySF2kuoURYKgiBGEEXin0UkzUAY0kCpqeN4Wpx7mTvPe/+8770XZ36bl+fhvOd8z3nOOc/zvrWUEmzBu3gKNfdfCZcxOTEx8WMtpbQFn6C+CDBR97CvllL6Ak8vNk2LLtVSSucsTsg6KdUNB2gGZ/D3EPqqjQyhkym8hX/xIL7EI4N0OIzNfaIBpPH8dtAOhwF1Pdj/DNphGahb8n6ZGnCsKZxWnERBvfbUDPZgGsvwMV7sA+gc3sNdrMVhPNSpcbeVSvigAQRz+LoPIDjWAII/caDRf2WoY/gh+J7sEypezj/hSFWo2zgYfM/izT6hduO54Pu8MU5pqFO41mKPYkLvPdhJI433R1t8M/iuClS8a17D+j6BmlqHbcH3fVmoOfwSfK8PCNTUzmD/jDtloH6zMNYr8cyQoDbKqaipWVwpAxWT6uO6J+0Hgr2iS9u6Yl68WgbqZo9Bo142D13HSz3arwp24QS2O00rgx0hozbhM5zFC9jco/1ssAuTbge1JtjTcpna7aLdXAKmqSvBHosN2g30hIX74joulhywly6ZL3NgOR4rA1VXnPVXQ4I6HuxNMlhPKHg12Cfwx4BA0zgafPEy7Qq1Fatb7Fk5TcRNWlZ38WF4fzW2V4Fajr3Bdx7vmy9BqgAdwK/Bv0eb0HWDgjcwHnxnZNiyoZzG23LF2apx7Or0Ui2lFGumVl2Tv1T+Cv5R7JBz4kYLb/yEC3JBeFwx5GNy5RmvntJQ5Nm+o006aGiVfKxX4D95FW90aDuGT+WKoaPKQJHz4X7F6qGKxvGRLitUFYocliM4pNqX8Bp5U+9U8mu8ClRTd/ANTsorV6iH5FP1PF6R76K2p2yYUK2aw+/yyt2Sc+nDeNTC0reSRuSw9PuTYxk29Dt4B6W6/AdtKelyHZNyabIUdA+TtaX4z/N/WVG1ilVDUhAAAAAASUVORK5CYII=\');\n  display:none;\n  bottom:0;right:0;\n  width:18px;height:18px;\n  background-color: ' + e.config.logoBgColor + ';\n}\n</style>\n    ' } }]), e }(); try { e.exports = r } catch (e) { } }]);
            var BannerThreeD = function (t) { function e(i) { if (n[i]) return n[i].exports; var a = n[i] = { i: i, l: !1, exports: {} }; return t[i].call(a.exports, a, a.exports, e), a.l = !0, a.exports } var n = {}; return e.m = t, e.c = n, e.d = function (t, n, i) { e.o(t, n) || Object.defineProperty(t, n, { configurable: !1, enumerable: !0, get: i }) }, e.n = function (t) { var n = t && t.__esModule ? function () { return t.default } : function () { return t }; return e.d(n, 'a', n), n }, e.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, e.p = "/dist/components", e(e.s = 0) }([function (t, n) { function i(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } var a = Object.assign || function (t) { for (var e = 1; e < arguments.length; e++) { var n = arguments[e]; for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, o = function () { function t(t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i) } } return function (e, n, i) { return n && t(e.prototype, n), i && t(e, i), e } }(), r = function () { function t(e) { i(this, t); var n = e.request_id && '' != e.request_id.trim() ? e.request_id : '[request_id]'; if (this.defaultConfig = { el: '#vmfive-ad-unit-container-' + n, request_id: n, track_url: '[track_url]', downloaded_pixel: '[downloaded_pixel]', downloaded_impression_pixel: '[downloaded_impression_pixel]', 'image:front': '[image:front]', 'image:bottom': '[image:bottom]', 'image:back': '[image:back]', 'image:top': '[image:top]', 'text:cta_in_new_window': '[text:cta_in_new_window]', dfp_url: '[dfp_url]', cta_prefix_url: '[cta_prefix_url]', 'cta:default': '[cta:default]', 'cta:front': '[cta:front]', 'cta:bottom': '[cta:bottom]', 'cta:back': '[cta:back]', 'cta:top': '[cta:top]', 'text:scale': '[text:scale]', 'text:banner_threed_rotate_duration': '[text:banner_threed_rotate_duration]', 'text:banner_threed_rotate_interval': '[text:banner_threed_rotate_interval]', 'text:banner_threed_rotate_initial_delay': '[text:banner_threed_rotate_initial_delay]', cubic: { front: { el: '.front-' + n, imageURL: '[image:front]', ctaURL: '[cta:front]' }, bottom: { el: '.bottom-' + n, imageURL: '[image:bottom]', ctaURL: '[cta:bottom]' }, back: { el: '.back-' + n, imageURL: '[image:back]', ctaURL: '[cta:back]' }, top: { el: '.top-' + n, imageURL: '[image:top]', ctaURL: '[cta:top]' }, left: { el: '.left-' + n }, right: { el: '.right-' + n } }, heightRatio: '1', bannerRatio: '32:5', onresize: [], onprepared: [], onctaclicked: [] }, this.config = a({}, this.defaultConfig, e), this.config.el = 'string' == typeof this.config.el ? document.querySelector(this.config.el) : this.config.el, null === this.config.el) throw new Error('Something wrong with your el param'); this.config.el.insertAdjacentHTML('beforeend', this.contentTemplate), this.config.el.insertAdjacentHTML('beforeend', this.contentCss); var o = this; this.rootView = this.config.el.querySelector('.vmfive-container-' + o.config.request_id), this.initData(), this.init() } return o(t, [{ key: 'initData', value: function () { var t = this.config, e = t.el, n = t.bannerRatio, i = t.heightRatio, o = void 0, r = void 0, c = void 0, s = isNaN(i) || 0 === i.length ? 1 : +i; try { o = e.getBoundingClientRect().width, c = +n.split(':')[1] / +n.split(':')[0], r = o * c * s } catch (t) { console.log(t), o = e.getBoundingClientRect().width, c = 5 / 32, r = o * c * s } this.data = a({}, t, { elWidth: o, elHeight: r, viewHeight: window.innerHeight || document.documentElement.clientHeight, bannerHeight: r, bannerHeightRate: c }) } }, { key: 'init', value: function () { function t() { return '' + i.config.dfp_url + i.config.cta_prefix_url + '&url=' } function n() { return '' + i.config['cta:default'] } var i = this, a = '' + i.config['text:cta_in_new_window'] == 'true'; for (var o in i.config.cubic) { var r = document.querySelector('.' + o + '-' + i.config.request_id); !function (t, e) { t.addEventListener('click', e) }(r, function (e) { return function () { var i = e && '' !== e.trim() ? t() + e : t() + n(); a ? window.open(i, '_blank') : window.top.location.href = i } }(i.config.cubic[o].ctaURL)) } window.addEventListener('resize', function () { (i.config.onresize && Array.isArray(i.config.onresize) ? i.config.onresize : []).forEach(function (t) { 'function' == typeof t && t(i, { e: e }) }); var t = i.config.el.querySelector('.vmfive-content-css'); t && t.parentElement.removeChild(t), i.config.el.insertAdjacentHTML('beforeend', i.contentCss) }), window.addEventListener("scroll", function (t) { if (Date.now() - i.lastRotate >= i.VMFIVE_BANNER_THREED_ROTATE_DURATION) { var e = this.scrollY, n = (this.scrollX, Date.now()); i.lastScrollY = i.lastScrollY ? i.lastScrollY : 0, i.lastScrollV = i.lastScrollV ? i.lastScrollV : 0, i.lastScrollTimestamp = i.lastScrollTimestamp ? i.lastScrollTimestamp : n; var a = n - i.lastScrollTimestamp; if (a > 0) { var o = (e - i.lastScrollY) / a; 1e3 * (Math.abs(o) - Math.abs(i.lastScrollV)) / a >= 30 && n - i.lastRotate > 500 && (i.lastRotate = n, i.rotation += o > 0 ? 90 : -90, i.doRotation()), i.lastScrollV = o, i.lastScrollY = e, i.lastScrollTimestamp = n } } }, !1), i.initContent({ onCtaClicked: function (t) { (i.config.onctaclicked && Array.isArray(i.config.onctaclicked) ? i.config.onctaclicked : []).forEach(function (e) { 'function' == typeof e && e(i, { e: t }) }) } }), (i.config.onprepared && Array.isArray(i.config.onprepared) ? i.config.onprepared : []).forEach(function (t) { 'function' == typeof t && t(i) }) } }, { key: 'initContent', value: function (t) { function e() { a[0].animation = anime({ targets: a[0], duration: s, rotateX: n.rotation, complete: function () { } }) } var n = this, i = $('.vmfive-container-' + n.config.request_id); i.on('click', t.onCtaClicked); var a = i.find('.vmfive-box-' + n.config.request_id), o = 0, r = 0; n.rotation = 0; var c = '' + n.config['text:banner_threed_rotate_duration'], s = isNaN(c) || 0 === c.length ? 1500 : +c, f = '' + n.config['text:banner_threed_rotate_interval'], l = isNaN(f) || 0 === f.length ? 3e3 : +f, d = '' + n.config['text:banner_threed_rotate_initial_delay'], u = isNaN(d) || 0 === d.length ? 1e3 : +d; n.VMFIVE_BANNER_THREED_ROTATE_DURATION = s, n.doRotation = e; var g = 0; raf(function t() { g = Date.now(), raf(t) }), setTimeout(function () { n.rotation = 360, n.lastRotate = Date.now(), e(), n.timer = setInterval(function () { var t = Date.now() - g; Date.now() - n.lastRotate >= l && t < 500 && (n.lastRotate = Date.now(), n.rotation -= -90, e()) }, 500) }, u), i.hammer().on('panmove panstart panend', function (t) { switch (t.type) { case 'panstart': n.isRotating = !0, n.lastRotate = Date.now(), o = i.width(), r = i.height(); break; case 'panmove': n.lastRotate = Date.now(); var c = Math.max(Math.min(t.gesture.deltaY / r, .5), -.5); a[0].animation && a[0].animation.pause(), a[0].style.transform = 'rotateX(' + (n.rotation + -90 * c) + 'deg)'; break; case 'panend': n.isRotating = !1, n.lastRotate = Date.now(); var c = Math.max(Math.min(t.gesture.deltaY / r, .5), -.5); c >= .25 ? n.rotation += -90 : c <= -.25 && (n.rotation -= -90), e() } }) } }, { key: 'contentCss', get: function () { var t = this, e = '' + t.config['text:scale']; isNaN(e); t.initData(); var n = 1 - t.data.bannerHeightRate / t.data.bannerHeightRate * .035, i = t.data.bannerHeight * n; return '\n<style class="vmfive-content-css">\n.vmfive-container-' + t.config.request_id + ' {\n  float: left;\n  width: calc(100% * ' + n + ');\n  height: calc(100% * ' + n + ');\n  min-height: ' + i + 'px;\n  -webkit-perspective: 1000px;\n          perspective: 1000px;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n\n.vmfive-box-' + t.config.request_id + ' {\n  width: 100%;\n  height: 100%;\n  min-height: ' + i + 'px;\n\n  position: relative;\n  -webkit-transform-style: preserve-3d;\n          transform-style: preserve-3d;\n  /* -webkit-transform: translate3d(0, 0, -' + i / 2 + 'px);\n          transform: translate3d(0, 0, -' + i / 2 + 'px); */\n}\n\n.vmfive-face-' + t.config.request_id + ' {\n  border: 0px solid #666;\n  cursor: default;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  -webkit-backface-visibility: hidden;\n          backface-visibility: hidden;\n  outline: 1px solid transparent;\n  line-height: ' + i + 'px;\n  text-align: center;\n  font-size: 30px;\n}\n.vmfive-face-' + t.config.request_id + '.front-' + t.config.request_id + ' {\n  /* background-color: #ffaaaa; */\n  background: url("' + t.config.cubic.front.imageURL + '") no-repeat center;\n  background-size: contain;\n  -webkit-transform: translate3d(0, 0, ' + i / 2 + 'px);\n          transform: translate3d(0, 0, ' + i / 2 + 'px);\n}\n.vmfive-face-' + t.config.request_id + '.top-' + t.config.request_id + ' {\n  /* background-color: #aaaaff; */\n  background: url("' + t.config.cubic.top.imageURL + '") no-repeat center;\n  background-size: contain;\n  -webkit-transform: translate3d(0, -' + i / 2 + 'px, 0) rotateX(90deg);\n          transform: translate3d(0, -' + i / 2 + 'px, 0) rotateX(90deg);\n}\n.vmfive-face-' + t.config.request_id + '.bottom-' + t.config.request_id + ' {\n  /* background-color: #aaaaff; */\n  background: url("' + t.config.cubic.bottom.imageURL + '") no-repeat center;\n  background-size: contain;\n  -webkit-transform: translate3d(0, ' + i / 2 + 'px, 0) rotateX(270deg);\n          transform: translate3d(0, ' + i / 2 + 'px, 0) rotateX(270deg);\n}\n.vmfive-face-' + t.config.request_id + '.back-' + t.config.request_id + ' {\n  /* background-color: #ffaaaa; */\n  background: url("' + t.config.cubic.back.imageURL + '") no-repeat center;\n  background-size: contain;\n  -webkit-transform: translate3d(0, 0, -' + i / 2 + 'px) rotateX(180deg);\n          transform: translate3d(0, 0, -' + i / 2 + 'px) rotateX(180deg);\n}\n/*\n.vmfive-face-' + t.config.request_id + '.left-' + t.config.request_id + ' {\n  background-color: #aaffaa;\n  background: url("' + t.config.cubic.left.imageURL + '") no-repeat center;\n  background-size: contain;\n  -webkit-transform: rotateY(-90deg) translate3d(0, 0, ' + i / 2 + 'px);\n          transform: rotateY(-90deg) translate3d(0, 0, ' + i / 2 + 'px);\n}\n.vmfive-face-' + t.config.request_id + '.right-' + t.config.request_id + ' {\n  background-color: #aaffff;\n  background: url("' + t.config.cubic.right.imageURL + '") no-repeat center;\n  background-size: contain;\n  -webkit-transform: rotateY(90deg) translate3d(0, 0, ' + i / 2 + 'px);\n          transform: rotateY(90deg) translate3d(0, 0, ' + i / 2 + 'px);\n}\n*/\n</style>\n    ' } }, { key: 'contentTemplate', get: function () { var t = this; return '\n<div class="vmfive-container-' + t.config.request_id + '">\n  <div class="vmfive-box-' + t.config.request_id + '">\n    <div class="vmfive-face-' + t.config.request_id + ' front-' + t.config.request_id + '"></div>\n    <div class="vmfive-face-' + t.config.request_id + ' top-' + t.config.request_id + '"></div>\n    <div class="vmfive-face-' + t.config.request_id + ' back-' + t.config.request_id + '"></div>\n    <div class="vmfive-face-' + t.config.request_id + ' bottom-' + t.config.request_id + '"></div>\n    <div class="vmfive-face-' + t.config.request_id + ' left-' + t.config.request_id + '"></div>\n    <div class="vmfive-face-' + t.config.request_id + ' right-' + t.config.request_id + '"></div>\n  </div>\n</div>\n    ' } }]), t }(); try { t.exports = r } catch (t) { } }]);
            var CloseButton = function (t) { function e(i) { if (n[i]) return n[i].exports; var o = n[i] = { i: i, l: !1, exports: {} }; return t[i].call(o.exports, o, o.exports, e), o.l = !0, o.exports } var n = {}; return e.m = t, e.c = n, e.d = function (t, n, i) { e.o(t, n) || Object.defineProperty(t, n, { configurable: !1, enumerable: !0, get: i }) }, e.n = function (t) { var n = t && t.__esModule ? function () { return t.default } : function () { return t }; return e.d(n, 'a', n), n }, e.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, e.p = "/dist/components", e(e.s = 0) }([function (t, e) { function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } var i = Object.assign || function (t) { for (var e = 1; e < arguments.length; e++) { var n = arguments[e]; for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, o = function () { function t(t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i) } } return function (e, n, i) { return n && t(e.prototype, n), i && t(e, i), e } }(), c = function () { function t(e) { n(this, t); var o = e.request_id && '' != e.request_id.trim() ? e.request_id : '[request_id]'; if (this.defaultConfig = { el: '#vmfive-ad-container-' + o, request_id: o, track_url: '[track_url]', 'text:cta_in_new_window': '[text:cta_in_new_window]', dfp_url: '[dfp_url]', cta_prefix_url: '[cta_prefix_url]', 'cta:default': '[cta:default]', 'text:embedded': '[text:embedded]', 'text:show_close_mode': '[text:show_close_mode]', 'text:close_button_horizontal_alignment': '[text:close_button_horizontal_alignment]', 'text:beautify_percent': '[text:beautify_percent]', closeMode: 'fate', closeModeSecond: 6e3, enableExpand: !1, closeOutContainer: !1, disableCta: !1, onctaclicked: [], oncloseexpanded: [], onclosed: [] }, this.config = i({}, this.defaultConfig, e), this.config.el = 'string' == typeof this.config.el ? document.querySelector(this.config.el) : this.config.el, null === this.config.el) throw new Error('Something wrong with your el param'); this.config.closeBtnHorizontalAlignment = 0 === this.config['text:close_button_horizontal_alignment'].length ? 'right' : this.config['text:close_button_horizontal_alignment'], this.config.el.insertAdjacentHTML('beforeend', this.template); var c = this; this.adContainer = this.config.el, this.closeEl = this.config.el.querySelector('#vmfive-close-' + c.config.request_id), this.closeBeautify = this.config.el.querySelector('#vmfive-beautify-' + c.config.request_id), this.init() } return o(t, [{ key: 'init', value: function () { function t(t, e) { t.addEventListener('click', e) } function e(t, e, n) { var i = {}; return t.forEach(function (t, o) { i = t[e] == n ? t : i }), i } function n(t) { t = t.replace('[timestamp]', Date.now()); var e = document.createElement('img'); e.src = t, e.style.display = 'none', document.body.appendChild(e) } var i = this; i.callback = function (t, e) { t.forEach(function (t) { 'function' == typeof t && t(i, e) }) }; var o = i.adContainer, c = o.parentElement.parentElement.querySelector('#vmfive-overlay-' + i.config.request_id), r = '' + i.config['text:cta_in_new_window'] == 'true', l = function (t) { if (!i.config.enableExpand || o.classList.contains("expanded")) { var e = '' + i.config.dfp_url + i.config.cta_prefix_url + '&url=' + i.config['cta:default'], n = i.config.onctaclicked && Array.isArray(i.config.onctaclicked) ? i.config.onctaclicked : []; i.callback(n, { e: t }), i.config.disableCta || (r ? window.open(e, '_blank') : window.top.location.href = e) } }; 'fate' === i.config.closeMode && t(i.closeBeautify, l); var s = []; try { s = JSON.parse(i.config.track_url) } catch (t) { console.log(t) } var a = Date.now(); i.doCloseTracking = function () { var t = e(s, 'event', 'close'); if (t.event) { var i = t.url, o = Date.now(), c = { landing_timestamp: a, close_timestamp: o }; i = i + '&eventValue=' + encodeURIComponent(o - a), i = i + '&eventDetails=' + encodeURIComponent(JSON.stringify(c)), n(i) } }, i.closeAd = function (t) { if (t.preventDefault(), t.stopPropagation(), o.classList.contains("expanded") && event.target.id == 'vmfive-close-' + i.config.request_id) { c.classList.remove("expanded"), o.classList.remove("expanded"); var e = i.config.oncloseexpanded && Array.isArray(i.config.oncloseexpanded) ? i.config.oncloseexpanded : []; i.callback(e, { e: t }) } else { o.parentElement.parentElement.removeChild(c), i.doCloseTracking(); var n = i.config.onclosed && Array.isArray(i.config.onclosed) ? i.config.onclosed : []; i.callback(n, { e: t }) } }; var f = function () { t(i.closeEl, i.closeAd) }; !function (e) { var n = { fate: function () { t(i.closeEl, i.closeAd) }, second: function () { setTimeout(function () { t(i.closeEl, i.closeAd) }, i.config.closeModeSecond) }, double: function () { t(i.closeEl, f) }, default: function () { t(i.closeEl, i.closeAd) } }; (n[e] || n.default)() }(i.config.closeMode); var d = '' + i.config['text:show_close_mode'], u = '' + i.config['text:embedded'] == 'true', v = (i.config['text:beautify_percent'], i.config.closeOutContainer), p = i.config.closeMode; u && 0 === d.length && (d = 'hidden'), 'fate' === p ? i.closeEl.style.bottom = 'unset' : (i.closeEl.style.top = 0, i.closeEl.style.bottom = 'unset'), v && (i.closeEl.style.transform = 'translateY(-100%)'), 'hidden' !== d && (i.closeEl.style.visibility = 'unset'), 'fadein' === d ? i.closeEl.classList.add('fadein') : i.closeEl.style.opacity = '1', 'fate' === p && (i.closeBeautify.style.top = '0', i.closeBeautify.style.bottom = 'unset', v && (i.closeBeautify.style.transform = 'translateY(-100%)'), 'hidden' !== d && (i.closeBeautify.style.visibility = 'unset'), 'fadein' === d ? i.closeBeautify.classList.add('fadein') : i.closeBeautify.style.opacity = '1') } }, { key: 'template', get: function () { var t = this, e = function (t) { var e = { 80: 'ar', 60: 'br', 40: 'cr', 20: 'dr', default: 'ar' }; return e[t] || e.default }(t.config['text:beautify_percent']); return function (n) { var i = { fate: '<div id="vmfive-close-' + t.config.request_id + '" class="' + e + '"></div><div id="vmfive-beautify-' + t.config.request_id + '"></div>', second: '<div id="vmfive-close-' + t.config.request_id + '" class="one"></div>', double: '<div id="vmfive-close-' + t.config.request_id + '" class="one"></div>', default: '<div id="vmfive-close-' + t.config.request_id + '" class="' + e + '"></div><div id="vmfive-beautify-' + t.config.request_id + '"></div>' }; return i[n] || i.default }(t.config.closeMode) + '\n\t\t\t<style>\n\t\t\t#vmfive-close-' + t.config.request_id + ' {\n\t\t\t\tvisibility:hidden;opacity:0;\n\t\t\t\tposition: absolute;z-index:100;\n\t\t\t\tcursor:pointer;\n\t\t\t}\n\t\t\t#vmfive-close-' + t.config.request_id + '.ar {\n\t\t\t\twidth:23px;\n\t\t\t\theight:23px;\n\t\t\t\ttop: 3px;\n\t\t\t\t' + t.config.closeBtnHorizontalAlignment + ': 4px;\n\t\t\t}\n\t\t\t#vmfive-close-' + t.config.request_id + '.br {\n\t\t\t\twidth: 21px;\n\t\t\t\theight:21px;\n\t\t\t\ttop: 4px;\n\t\t\t\t' + t.config.closeBtnHorizontalAlignment + ': 5px;\n\t\t\t}\n\t\t\t#vmfive-close-' + t.config.request_id + '.cr {\n\t\t\t\twidth:17px;\n\t\t\t\theight:17px;\n\t\t\t\ttop: 6px;\n\t\t\t\t' + t.config.closeBtnHorizontalAlignment + ': 7px;\n\t\t\t}\n\t\t\t#vmfive-close-' + t.config.request_id + '.dr {\n\t\t\t\twidth:15px;\n\t\t\t\theight:15px;\n\t\t\t\ttop: 7px;\n\t\t\t\t' + t.config.closeBtnHorizontalAlignment + ': 8px;\n\t\t\t}\n\t\t\t#vmfive-close-' + t.config.request_id + '.one {\n\t\t\t\tbackground-color: #fff;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tpadding: 5px;\n\t\t\t\tborder: 1px #000000 solid;\n\t\t\t\t' + t.config.closeBtnHorizontalAlignment + ': 1px;\n\t\t\t}\n\t\t\t#vmfive-close-' + t.config.request_id + '::before,\n\t\t\t#vmfive-close-' + t.config.request_id + '::after {\n\t\t\t\tcontent: \'\';\n\t\t\t\tposition: absolute;\n\t\t\t\tbackground:#000000;\n\t\t\t\tdisplay: block;\n\t\t\t\twidth: 14px;\n\t\t\t\theight: 2px;\n\t\t\t}\n\t\t\t#vmfive-close-' + t.config.request_id + '.ar::before,\n\t\t\t#vmfive-close-' + t.config.request_id + '.ar::after {\n\t\t\t\ttop: 11px;\n\t\t\t\tleft: 5px;\n\t\t\t}\n\t\t\t#vmfive-close-' + t.config.request_id + '.br::before,\n\t\t\t#vmfive-close-' + t.config.request_id + '.br::after {\n\t\t\t\ttop: 9px;\n\t\t\t\tleft: 4px;\n\t\t\t}\n\t\t\t#vmfive-close-' + t.config.request_id + '.cr::before,\n\t\t\t#vmfive-close-' + t.config.request_id + '.cr::after {\n\t\t\t\ttop: 8px;\n\t\t\t\tleft: 2px;\n\t\t\t}\n\t\t\t#vmfive-close-' + t.config.request_id + '.dr::before,\n\t\t\t#vmfive-close-' + t.config.request_id + '.dr::after {\n\t\t\t\ttop: 6px;\n\t\t\t\tleft: 1px;\n\t\t\t}\n\t\t\t#vmfive-close-' + t.config.request_id + '::before {\n\t\t\t\ttransform: rotate(45deg);\n\t\t\t}\n\t\t\t#vmfive-close-' + t.config.request_id + '::after {\n\t\t\t\ttransform: rotate(-45deg);\n\t\t\t}\n\t\t\t#vmfive-close-' + t.config.request_id + '.one::before,\n\t\t\t#vmfive-close-' + t.config.request_id + '.one::after  {\n\t\t\t\ttop: 11px;\n\t\t\t\tleft: 5px;\n\t\t\t}\n\t\t\t#vmfive-beautify-' + t.config.request_id + ' {\n\t\t\t\tborder: 1px #000000 solid; border-radius:50%;\n\t\t\t\tbackground-color: #ffffff;visibility:hidden;opacity:0;\n\t\t\t\tz-index:2;\n\t\t\t\twidth:27px;\n\t\t\t\theight:27px;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 1px;\n\t\t\t\t' + t.config.closeBtnHorizontalAlignment + ': 1px;\n\t\t\t}\n\t\t\t#vmfive-close-' + t.config.request_id + '.fadein,\n\t\t\t#vmfive-beautify-' + t.config.request_id + '.fadein {\n\t\t\t\t-webkit-animation: fadein 3s ease-in forwards;\n\t\t\t\t-webkit-animation-delay: 1s;\n\n\t\t\t\tanimation: fadein 3s ease-in forwards;\n\t\t\t\tanimation-delay: 1s;\n\t\t\t}\n\n\t\t\t@keyframes fadein {\n\t\t\t\t0% { opacity: 0; }\n\t\t\t\t100% { opacity: 1; }\n\t\t\t}\n\n\t\t\t@-webkit-keyframes fadein {\n\t\t\t\t0% { opacity: 0;}\n\t\t\t\t100% { opacity: 1;}\n\t\t\t}\n\t\t\t</style>\n\t\t' } }]), t }(); try { t.exports = c } catch (t) { } }]);

            let sc = document.createElement("script");

            sc.src = "https://d1v69ngg41pvl6.cloudfront.net/dist/MixPlayer.js";
            sc.onload = function () {

                let vmfiveAdUnitContainer = new BannerContainer({
                    // el: '#vmfive-ad-unit-container',
                    'request_id': '55667788',
                    'track_url': '[{"event":"view","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=view"},\
      {"event":"impression","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=impression"},\
      {"event":"video_percentage:0","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=video_percentage:0"},\
      {"event":"video_percentage:25","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=video_percentage:25"},\
      {"event":"video_percentage:50","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=video_percentage:50"},\
      {"event":"video_percentage:75","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=video_percentage:75"},\
      {"event":"video_percentage:100","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=video_percentage:100"},\
      {"event":"click","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=click"},\
      {"event":"close","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=close"},\
      {"event":"replay","url":"https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=replay"}]',

                    'downloaded_pixel': 'https://vaser-track.vm5apis.com/v2/track?requestId=&event=downloaded&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0',
                    'text:cta_in_new_window': '',
                    'dfp_url': '',
                    'cta_prefix_url': 'https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=click',
                    'cta:default': 'https://vmfive.com/?utm_source=vmfive_ad_cta',
                    'text:show_close_mode': 'fadein',
                    'text:banner_bottom_offset': `0`,
                    'text:scale': `1`,

                    'text:close_button_horizontal_alignment': ``,

                    bannerRatio: '32:10',
                    heightRatio: '1',
                    enableClipPath: false,
                    disableCta: true,

                    onctaclicked: [
                        function (comp, data) {
                            console.log(data);
                        },
                    ],
                    onclosed: [
                        function () {
                            console.log('closed');
                        },
                    ],
                });

                let contentEl = new BannerThreeD({
                    el: vmfiveAdUnitContainer.adContainerView,
                    'request_id': vmfiveAdUnitContainer.config.request_id,
                    bannerRatio: vmfiveAdUnitContainer.config.bannerRatio,

                    'downloaded_pixel': 'https://vaser-track.vm5apis.com/v2/track?requestId=&event=downloaded&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0',
                    'text:cta_in_new_window': '',
                    'dfp_url': '',
                    'cta_prefix_url': 'https://vaser-track.vm5apis.com/v2/track?requestId=&placementId=&campaignId=&audienceGroupId=&creativeId=&timezone=8&creativeFormat=richmedia&pixel=1&x=0&event=click',
                    'cta:default': 'https://shopping.pchome.com.tw/activity/campaign/C041982560',
                    'text:banner_threed_rotate_initial_delay': '3000',

                    cubic: {
                        front: {
                            imageURL: 'https://ad-demo.vmfive.com/demos/showcase/20191031_sunggle/resource/pchome/spincubic_banner_pchome_01_1104.png',
                            ctaURL: 'https://shopping.pchome.com.tw/activity/campaign/C041982560',
                        },
                        bottom: {
                            imageURL: 'https://ad-demo.vmfive.com/demos/showcase/20191031_sunggle/resource/pchome/spincubic_banner_pchome_02_1104.png',
                            ctaURL: 'https://shopping.pchome.com.tw/activity/campaign/C041982560',
                        },
                        back: {
                            imageURL: 'https://ad-demo.vmfive.com/demos/showcase/20191031_sunggle/resource/pchome/spincubic_banner_pchome_03_1104.png',
                            ctaURL: 'https://shopping.pchome.com.tw/activity/campaign/C041982560',
                        },
                        top: {
                            imageURL: 'https://ad-demo.vmfive.com/demos/showcase/20191031_sunggle/resource/pchome/spincubic_banner_pchome_04_1104.png',
                            ctaURL: 'https://shopping.pchome.com.tw/activity/campaign/C041982560',
                        },
                        left: {
                            imageURL: '',
                            ctaURL: '',
                        },
                        right: {
                            imageURL: '',
                            ctaURL: '',
                        }
                    },

                    bannerRatio: vmfiveAdUnitContainer.config.bannerRatio,
                    heightRatio: vmfiveAdUnitContainer.config.heightRatio,
                });

                let closeEl = new CloseButton({
                    el: vmfiveAdUnitContainer.adContainerView,
                    'request_id': vmfiveAdUnitContainer.config['request_id'],
                    'track_url': vmfiveAdUnitContainer.config['track_url'],

                    'text:cta_in_new_window': `[text:cta_in_new_window]`,
                    'dfp_url': `[dfp_url]`,
                    'cta_prefix_url': `[cta_prefix_url]`,
                    'cta:default': `[cta:default]`,

                    'text:embedded': '[text:embedded]',
                    'text:show_close_mode': 'fadein',
                    'text:close_button_horizontal_alignment': 'left',
                    'text:beautify_percent': '80',
                    closeMode: 'fate',
                });
                let innerHteml = `
        <div id="anime-wrap-${vmfiveAdUnitContainer.config.request_id}">
            <div class="front">
                <img src="https://d2v4tz4zvhrua.cloudfront.net/manual_uploads/20191031/snuggle_flyout_1030-min.gif">
            </div>
        </div>
        <style>
            #anime-wrap-${vmfiveAdUnitContainer.config.request_id} { 
                    display: none;
            }
            #anime-wrap-${vmfiveAdUnitContainer.config.request_id} .front {
                position: fixed;
                display: inline-block;
                width: 100%;
                right: 0;
                bottom: 0;
                z-index: 3;
            }
            #anime-wrap-${vmfiveAdUnitContainer.config.request_id} canvas { 
                width: 100%;    
                bottom: 0;
                position: absolute;
            }
            
        </style>
    `;

                contentEl.rootView.style.display = "none";
                contentEl.rootView.style.transform = "translateY(100%)";


                vmfiveAdUnitContainer.adContainerView.insertAdjacentHTML('beforeend', innerHteml);
                let closeBtn = vmfiveAdUnitContainer.adContainerView.querySelector('#vmfive-close-' + vmfiveAdUnitContainer.config.request_id);
                let beautifyBtn = vmfiveAdUnitContainer.adContainerView.querySelector('#vmfive-beautify-' + vmfiveAdUnitContainer.config.request_id);
                closeBtn.style.display = "none";
                beautifyBtn.style.display = "none";
                let animeWrap = vmfiveAdUnitContainer.adContainerView.querySelector('#anime-wrap-' + vmfiveAdUnitContainer.config.request_id);
                let frontEL = vmfiveAdUnitContainer.adContainerView.querySelector('#anime-wrap-' + vmfiveAdUnitContainer.config.request_id + ' .front');

                var rub = new SuperGif({
                    gif: frontEL,
                    max_width: window.innerWidth,
                    progressbar_height: 0,
                    auto_play: false,
                    loop_mode: false,
                    on_end: function () {
                        contentEl.rootView.style.display = "block";
                        closeBtn.style.display = "block";
                        beautifyBtn.style.display = "block";
                        animeWrap.style.display = "none";
                        anime({
                            targets: contentEl.rootView,
                            translateY: [
                                { value: '100%', duration: 0 },
                                { value: '0', duration: 300 },
                            ],
                            easing: 'linear',
                            complete: function () {
                                contentEl.rotation = 0;
                                contentEl.doRotation();
                            }
                        });
                    }
                });
                let triggeredFunc = function (event) {
                    window.removeEventListener('scroll', triggeredFunc);
                    animeWrap.style.display = 'block';
                    rub.play();
                }

                rub.load_url('https://d2v4tz4zvhrua.cloudfront.net/manual_uploads/20191031/snuggle_flyout_1030-min.gif', function () {
                    window.addEventListener('scroll', triggeredFunc, false);
                });
            };
            document.body.appendChild(sc);
        </script>
    </div>
</body>

</html>